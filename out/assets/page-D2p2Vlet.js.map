{"version":3,"file":"page-D2p2Vlet.js","sources":["../../src/pages/dashboard/components/DashboardLayout.tsx","../../src/pages/dashboard/components/ModuleCard.tsx","../../src/services/dashboardService.ts","../../src/pages/dashboard/components/ModularDashboard.tsx","../../src/pages/dashboard/components/ChartsSection.tsx","../../src/pages/dashboard/components/RecentActivity.tsx","../../src/pages/dashboard/components/TopQuotedProducts.tsx","../../src/pages/dashboard/components/TopUsedArticles.tsx","../../src/pages/dashboard/components/TopQuotingUsers.tsx","../../src/pages/dashboard/components/TopQuotingClients.tsx","../../src/pages/dashboard/page.tsx"],"sourcesContent":["\nimport { ReactNode, useState } from 'react';\nimport Sidebar from '../../../components/feature/Sidebar';\nimport TopBar from '../../../components/feature/TopBar';\nimport MobileNav from '../../../components/feature/MobileNav';\n\ninterface DashboardLayoutProps {\n  children: ReactNode;\n}\n\nexport default function DashboardLayout({ children }: DashboardLayoutProps) {\n  const [sidebarOpen, setSidebarOpen] = useState(false);\n\n  return (\n    <div className=\"min-h-screen bg-gray-50 flex\">\n      {/* Sidebar */}\n      <Sidebar isOpen={sidebarOpen} onClose={() => setSidebarOpen(false)} />\n\n      {/* Contenido principal */}\n      <div className=\"flex-1 flex flex-col min-w-0\">\n        {/* TopBar */}\n        <TopBar onMenuClick={() => setSidebarOpen(true)} />\n        \n        {/* Contenido */}\n        <main className=\"flex-1 p-4 lg:p-6 pb-20 lg:pb-6 overflow-auto\">\n          <div className=\"max-w-7xl mx-auto\">\n            {children}\n          </div>\n        </main>\n      </div>\n\n      {/* Navegaci√≥n m√≥vil */}\n      <MobileNav />\n    </div>\n  );\n}\n","import { ReactNode } from 'react';\nimport { useNavigate } from 'react-router-dom';\n\ninterface ModuleCardProps {\n  title: string;\n  description: string;\n  icon: string;\n  color: string;\n  gradient: string;\n  value: string | number;\n  subtitle: string;\n  change?: string;\n  changeType?: 'positive' | 'negative' | 'warning' | 'neutral';\n  trend?: ReactNode;\n  route?: string;\n  loading?: boolean;\n  onClick?: () => void;\n}\n\nexport default function ModuleCard({\n  title,\n  description,\n  icon,\n  color,\n  gradient,\n  value,\n  subtitle,\n  change,\n  changeType = 'neutral',\n  trend,\n  route,\n  loading,\n  onClick\n}: ModuleCardProps) {\n  const navigate = useNavigate();\n\n  const handleClick = () => {\n    console.log(`[DASHBOARD CARD] üéØ Click en card: ${title}`);\n    \n    if (onClick) {\n      onClick();\n    } else if (route) {\n      console.log(`[DASHBOARD CARD] üîó Navegando a: ${route}`);\n      navigate(route);\n    }\n  };\n\n  const getChangeColor = () => {\n    switch (changeType) {\n      case 'positive':\n        return 'text-green-600 bg-green-50';\n      case 'negative':\n        return 'text-red-600 bg-red-50';\n      case 'warning':\n        return 'text-yellow-600 bg-yellow-50';\n      default:\n        return 'text-gray-600 bg-gray-50';\n    }\n  };\n\n  const getChangeIcon = () => {\n    switch (changeType) {\n      case 'positive':\n        return 'ri-arrow-up-line';\n      case 'negative':\n        return 'ri-arrow-down-line';\n      case 'warning':\n        return 'ri-alert-line';\n      default:\n        return 'ri-information-line';\n    }\n  };\n\n  if (loading) {\n    return (\n      <div className=\"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden animate-pulse\">\n        <div className={`h-2 ${gradient}`}></div>\n        <div className=\"p-6\">\n          <div className=\"flex items-start justify-between mb-4\">\n            <div className=\"flex-1\">\n              <div className=\"h-4 bg-gray-200 rounded w-32 mb-2\"></div>\n              <div className=\"h-3 bg-gray-200 rounded w-48\"></div>\n            </div>\n            <div className={`w-12 h-12 ${color} rounded-xl bg-opacity-10`}></div>\n          </div>\n          <div className=\"h-8 bg-gray-200 rounded w-24 mb-2\"></div>\n          <div className=\"h-3 bg-gray-200 rounded w-20\"></div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div\n      onClick={handleClick}\n      className={`bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden transition-all duration-300 hover:shadow-lg hover:scale-[1.02] ${\n        (route || onClick) ? 'cursor-pointer' : ''\n      }`}\n    >\n      {/* Barra superior de color */}\n      <div className={`h-2 ${gradient}`}></div>\n\n      <div className=\"p-6\">\n        {/* Header */}\n        <div className=\"flex items-start justify-between mb-4\">\n          <div className=\"flex-1\">\n            <h3 className=\"text-lg font-semibold text-gray-900 mb-1\">\n              {title}\n            </h3>\n            <p className=\"text-sm text-gray-500\">\n              {description}\n            </p>\n          </div>\n          <div className={`w-12 h-12 ${color} rounded-xl flex items-center justify-center bg-opacity-10 flex-shrink-0 ml-4`}>\n            <i className={`${icon} text-2xl ${color.replace('bg-', 'text-')}`}></i>\n          </div>\n        </div>\n\n        {/* Valor principal */}\n        <div className=\"mb-3\">\n          <div className=\"text-3xl font-bold text-gray-900 mb-1\">\n            {value}\n          </div>\n          <div className=\"text-sm text-gray-600\">\n            {subtitle}\n          </div>\n        </div>\n\n        {/* Footer con cambio y tendencia */}\n        <div className=\"flex items-center justify-between pt-3 border-t border-gray-100\">\n          {change && (\n            <div className={`inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium ${getChangeColor()}`}>\n              <i className={`${getChangeIcon()} mr-1`}></i>\n              {change}\n            </div>\n          )}\n          {trend && (\n            <div className=\"flex-1 ml-3\">\n              {trend}\n            </div>\n          )}\n          {(route || onClick) && (\n            <i className=\"ri-arrow-right-line text-gray-400 ml-auto\"></i>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n}\n","import { supabase } from '../lib/supabase';\n\nexport interface DashboardStats {\n  totalInventory: number;\n  totalValue: number;\n  activeQuotes: number;\n  pendingRequests: number;\n  totalClients: number;\n  productsWithBOM: number;\n  lowStockItems: number;\n}\n\nexport interface SalesData {\n  month: string;\n  sales: number;\n  quotes: number;\n}\n\nexport interface InventoryDistribution {\n  category: string;\n  value: number;\n  count: number;\n  color: string;\n}\n\nexport interface RecentActivity {\n  id: number;\n  type: string;\n  description: string;\n  user: string;\n  timestamp: string;\n  status: 'success' | 'info' | 'warning' | 'error';\n}\n\nexport interface TopQuotedProduct {\n  id: number;\n  nombre: string;\n  codigo: string;\n  total_cotizaciones: number;\n  total_cantidad: number;\n  valor_total: number;\n}\n\nexport interface TopUsedArticle {\n  id: number;\n  nombre: string;\n  codigo: string;\n  total_productos: number;\n  total_cantidad_usada: number;\n}\n\nexport interface TopQuotingUser {\n  id: string;\n  nombre: string;\n  email: string;\n  total_cotizaciones: number;\n  valor_total: number;\n}\n\nexport interface TopQuotingClient {\n  id: number;\n  nombre: string;\n  empresa: string;\n  total_cotizaciones: number;\n  valor_total: number;\n}\n\n// FUNCI√ìN CR√çTICA: Obtener tienda actual del usuario autenticado\nconst getCurrentUserStore = async () => {\n  try {\n    const { data: { user } } = await supabase.auth.getUser();\n    if (!user) {\n      throw new Error('Usuario no autenticado');\n    }\n\n    const { data: tiendaActual, error } = await supabase\n      .from('usuario_tienda_actual')\n      .select('tienda_id')\n      .eq('usuario_id', user.id)\n      .single();\n\n    if (error || !tiendaActual?.tienda_id) {\n      console.warn('‚ö†Ô∏è Usuario sin tienda asignada');\n      throw new Error('Usuario sin tienda asignada');\n    }\n\n    console.log('üè™ Tienda actual del usuario:', tiendaActual.tienda_id);\n    return tiendaActual.tienda_id;\n  } catch (error) {\n    console.error('‚ùå Error obteniendo tienda actual:', error);\n    throw error;\n  }\n};\n\nexport const dashboardService = {\n  // Funci√≥n auxiliar para obtener la tienda actual del usuario\n  async getCurrentUserStore(): Promise<number | null> {\n    try {\n      const { data: { user } } = await supabase.auth.getUser();\n      if (!user) {\n        console.warn('‚ö†Ô∏è Usuario no autenticado');\n        return null;\n      }\n\n      const { data: tiendaActual, error } = await supabase\n        .from('usuario_tienda_actual')\n        .select('tienda_id')\n        .eq('usuario_id', user.id)\n        .single();\n\n      if (error || !tiendaActual?.tienda_id) {\n        console.warn('‚ö†Ô∏è Usuario sin tienda asignada:', error);\n        return null;\n      }\n\n      return tiendaActual.tienda_id;\n    } catch (error) {\n      console.error('Error obteniendo tienda actual:', error);\n      return null;\n    }\n  },\n\n  async getStats(): Promise<DashboardStats> {\n    try {\n      // SEGURIDAD: Obtener tienda actual del usuario\n      const tiendaId = await getCurrentUserStore();\n\n      // Obtener estad√≠sticas SOLO de la tienda del usuario\n      const [inventoryResult, quotesResult, clientsResult, productsResult] = await Promise.all([\n        supabase.from('inventario').select('cantidad_articulo, precio_articulo, costo_articulo').eq('tienda_id', tiendaId),\n        supabase.from('cotizaciones').select('estado, total').eq('tienda_id', tiendaId),\n        supabase.from('clientes').select('id').eq('tienda_id', tiendaId),\n        supabase.from('productos').select('id').eq('tienda_id', tiendaId)\n      ]);\n\n      const totalInventory = inventoryResult.data?.length || 0;\n      const totalValue = inventoryResult.data?.reduce((sum, item) => \n        sum + (item.cantidad_articulo * item.precio_articulo || 0), 0) || 0;\n\n      const activeQuotes = quotesResult.data?.filter(q => \n        ['borrador', 'enviada'].includes(q.estado)).length || 0;\n\n      // CORREGIDO: solicitudes NO tiene tienda_id ni columna 'estado', usa 'estado_id'\n      const { data: pendingData } = await supabase\n        .from('solicitudes')\n        .select('id, estado_id')\n        .eq('estado_id', 1); // Asumiendo que 1 = pendiente\n\n      const pendingRequests = pendingData?.length || 0;\n      const totalClients = clientsResult.data?.length || 0;\n      const totalProducts = productsResult.data?.length || 0;\n\n      const lowStock = inventoryResult.data?.filter(item => \n        item.cantidad_articulo < 10).length || 0;\n\n      return {\n        totalInventory,\n        totalValue,\n        activeQuotes,\n        pendingRequests,\n        totalClients,\n        productsWithBOM: totalProducts,\n        lowStockItems: lowStock\n      };\n    } catch (error) {\n      console.error('Error obteniendo estad√≠sticas:', error);\n      return {\n        totalInventory: 0,\n        totalValue: 0,\n        activeQuotes: 0,\n        pendingRequests: 0,\n        totalClients: 0,\n        productsWithBOM: 0,\n        lowStockItems: 0\n      };\n    }\n  },\n\n  async getSalesData(): Promise<SalesData[]> {\n    try {\n      // SEGURIDAD: Obtener tienda actual del usuario\n      const tiendaId = await getCurrentUserStore();\n\n      const sixMonthsAgo = new Date();\n      sixMonthsAgo.setMonth(sixMonthsAgo.getMonth() - 6);\n\n      // CORREGIDO: usar 'created_at' en lugar de 'fecha_emision'\n      const { data: quotes, error } = await supabase\n        .from('cotizaciones')\n        .select('created_at, total, estado')\n        .eq('tienda_id', tiendaId)\n        .gte('created_at', sixMonthsAgo.toISOString())\n        .eq('estado', 'aceptada');\n\n      if (error) throw error;\n\n      const monthlyData: { [key: string]: { sales: number; quotes: number } } = {};\n      \n      for (let i = 5; i >= 0; i--) {\n        const date = new Date();\n        date.setMonth(date.getMonth() - i);\n        const monthKey = date.toLocaleDateString('es-ES', { month: 'short', year: 'numeric' });\n        monthlyData[monthKey] = { sales: 0, quotes: 0 };\n      }\n\n      quotes?.forEach(quote => {\n        if (quote.created_at) {\n          const date = new Date(quote.created_at);\n          const monthKey = date.toLocaleDateString('es-ES', { month: 'short', year: 'numeric' });\n          \n          if (monthlyData[monthKey]) {\n            monthlyData[monthKey].quotes += 1;\n            monthlyData[monthKey].sales += quote.total || 0;\n          }\n        }\n      });\n\n      return Object.entries(monthlyData).map(([month, data]) => ({\n        month,\n        sales: data.sales,\n        quotes: data.quotes\n      }));\n    } catch (error) {\n      console.error('Error obteniendo datos de ventas:', error);\n      return [];\n    }\n  },\n\n  async getInventoryDistribution(): Promise<InventoryDistribution[]> {\n    try {\n      // SEGURIDAD: Obtener tienda actual del usuario\n      const tiendaId = await getCurrentUserStore();\n\n      const { data, error } = await supabase\n        .from('inventario')\n        .select(`\n          cantidad_articulo,\n          precio_articulo,\n          costo_articulo,\n          categorias (nombre)\n        `)\n        .eq('tienda_id', tiendaId) // FILTRO POR TIENDA\n        .eq('activo', true);\n\n      if (error) throw error;\n\n      const categoryData: { [key: string]: { count: number; value: number } } = {};\n      \n      data?.forEach(item => {\n        const category = item.categorias?.nombre || 'Sin categor√≠a';\n        const cantidad = item.cantidad_articulo || 0;\n        const precio = item.precio_articulo || item.costo_articulo || 0;\n        const value = cantidad * precio;\n        \n        if (!categoryData[category]) {\n          categoryData[category] = { count: 0, value: 0 };\n        }\n        \n        categoryData[category].count += 1;\n        categoryData[category].value += value;\n      });\n\n      const colors = [\n        'bg-blue-500', 'bg-green-500', 'bg-yellow-500', \n        'bg-red-500', 'bg-purple-500', 'bg-indigo-500'\n      ];\n\n      const totalValue = Object.values(categoryData).reduce((sum, data) => sum + data.value, 0);\n\n      const result = Object.entries(categoryData)\n        .map(([category, data], index) => ({\n          category,\n          value: totalValue > 0 ? Math.round((data.value / totalValue) * 100) : 0,\n          count: data.count,\n          color: colors[index % colors.length]\n        }))\n        .sort((a, b) => b.value - a.value)\n        .slice(0, 6);\n\n      return result;\n    } catch (error) {\n      console.error('Error obteniendo distribuci√≥n de inventario:', error);\n      return [\n        { category: 'Sin categor√≠a', value: 100, count: 0, color: 'bg-gray-500' }\n      ];\n    }\n  },\n\n  async getRecentActivity(): Promise<RecentActivity[]> {\n    try {\n      // SEGURIDAD: Obtener tienda actual del usuario\n      const tiendaId = await getCurrentUserStore();\n\n      const activities: RecentActivity[] = [];\n\n      // CORREGIDO: usar 'created_at' en lugar de 'fecha_creacion'\n      const { data: quotes } = await supabase\n        .from('cotizaciones')\n        .select(`\n          id,\n          numero_cotizacion,\n          estado,\n          created_at,\n          usuarios (nombre_completo)\n        `)\n        .eq('tienda_id', tiendaId)\n        .order('created_at', { ascending: false })\n        .limit(5);\n\n      quotes?.forEach(quote => {\n        activities.push({\n          id: quote.id,\n          type: 'cotizacion',\n          description: `Cotizaci√≥n ${quote.numero_cotizacion} ${quote.estado}`,\n          user: quote.usuarios?.nombre_completo || 'Usuario',\n          timestamp: new Date(quote.created_at).toLocaleDateString('es-ES'),\n          status: quote.estado === 'aceptada' ? 'success' : 'info'\n        });\n      });\n\n      // CORREGIDO: solicitudes NO tiene tienda_id, usar join con usuarios\n      const { data: requests } = await supabase\n        .from('solicitudes')\n        .select(`\n          id,\n          descripcion,\n          estado_id,\n          created_at,\n          usuarios (nombre_completo)\n        `)\n        .order('created_at', { ascending: false })\n        .limit(3);\n\n      requests?.forEach(request => {\n        activities.push({\n          id: request.id + 1000,\n          type: 'solicitud',\n          description: `Solicitud: ${request.descripcion?.substring(0, 50)}...`,\n          user: request.usuarios?.nombre_completo || 'Usuario',\n          timestamp: new Date(request.created_at).toLocaleDateString('es-ES'),\n          status: request.estado_id === 3 ? 'success' : 'warning' // Asumiendo que 3 = completada\n        });\n      });\n\n      return activities.sort((a, b) => \n        new Date(b.timestamp).getTime() - new Date(a.timestamp).getTime()\n      ).slice(0, 8);\n    } catch (error) {\n      console.error('Error obteniendo actividad reciente:', error);\n      return [];\n    }\n  },\n\n  async getTopQuotedProducts(): Promise<TopQuotedProduct[]> {\n    try {\n      // SEGURIDAD: Obtener tienda actual del usuario\n      const tiendaId = await getCurrentUserStore();\n\n      const { data: quotationItems, error: itemsError } = await supabase\n        .from('cotizacion_items')\n        .select(`\n          producto_id,\n          cantidad,\n          precio_unitario,\n          cotizaciones!inner(estado, tienda_id)\n        `)\n        .eq('cotizaciones.tienda_id', tiendaId) // FILTRO POR TIENDA\n        .in('cotizaciones.estado', ['aceptada', 'enviada']);\n\n      if (itemsError) throw itemsError;\n\n      const { data: products, error: productsError } = await supabase\n        .from('productos')\n        .select(`\n          id_producto,\n          codigo_producto,\n          descripcion_producto\n        `)\n        .eq('tienda_id', tiendaId); // FILTRO POR TIENDA\n\n      if (productsError) throw productsError;\n\n      const productMap = new Map();\n      \n      quotationItems?.forEach(item => {\n        const key = item.producto_id;\n        if (!productMap.has(key)) {\n          const product = products?.find(p => p.id_producto === item.producto_id);\n          if (product) {\n            productMap.set(key, {\n              id: product.id_producto,\n              name: product.descripcion_producto || 'Producto sin descripci√≥n',\n              code: product.codigo_producto || `PROD-${product.id_producto}`,\n              quotesCount: 0,\n              totalQuantity: 0,\n              totalValue: 0\n            });\n          }\n        }\n\n        if (productMap.has(key)) {\n          const productData = productMap.get(key)!;\n          productData.totalQuantity += item.cantidad || 0;\n          productData.totalValue += (item.cantidad || 0) * (item.precio_unitario || 0);\n          productData.quotesCount += 1;\n        }\n      });\n\n      return Array.from(productMap.values())\n        .map(product => ({\n          id: parseInt(product.id),\n          nombre: product.name,\n          codigo: product.code,\n          total_cotizaciones: product.quotesCount,\n          total_cantidad: product.totalQuantity,\n          valor_total: product.totalValue\n        }))\n        .sort((a, b) => b.total_cotizaciones - a.total_cotizaciones)\n        .slice(0, 10);\n    } catch (error) {\n      console.error('Error obteniendo productos m√°s cotizados:', error);\n      return [];\n    }\n  },\n\n  async getTopUsedArticles(): Promise<TopUsedArticle[]> {\n    try {\n      // SEGURIDAD: Obtener tienda actual del usuario\n      const tiendaId = await getCurrentUserStore();\n\n      const { data, error } = await supabase\n        .from('bom_items')\n        .select(`\n          id_componente,\n          cantidad_x_unidad,\n          nombre_componente,\n          productos!inner(tienda_id)\n        `)\n        .eq('productos.tienda_id', tiendaId); // FILTRO POR TIENDA\n\n      if (error) throw error;\n\n      const articleStats: { [key: number]: { name: string; code: string; totalUsage: number; productsCount: number } } = {};\n\n      data?.forEach(item => {\n        const componentId = item.id_componente;\n        if (!articleStats[componentId]) {\n          articleStats[componentId] = {\n            name: item.nombre_componente || 'Componente sin nombre',\n            code: `COMP-${componentId}`,\n            totalUsage: 0,\n            productsCount: 0\n          };\n        }\n        \n        articleStats[componentId].totalUsage += item.cantidad_x_unidad || 0;\n        articleStats[componentId].productsCount += 1;\n      });\n\n      return Object.entries(articleStats)\n        .map(([id, stats]) => ({\n          id: parseInt(id),\n          nombre: stats.name,\n          codigo: stats.code,\n          total_productos: stats.productsCount,\n          total_cantidad_usada: stats.totalUsage\n        }))\n        .sort((a, b) => b.total_cantidad_usada - a.total_cantidad_usada)\n        .slice(0, 10);\n    } catch (error) {\n      console.error('Error obteniendo art√≠culos m√°s usados:', error);\n      return [];\n    }\n  },\n\n  async getTopQuotingUsers(): Promise<TopQuotingUser[]> {\n    try {\n      // Obtener tienda actual del usuario\n      const tiendaId = await this.getCurrentUserStore();\n      if (!tiendaId) {\n        console.warn('‚ö†Ô∏è Usuario sin tienda asignada');\n        return [];\n      }\n\n      // Obtener usuarios de la tienda\n      const { data: users, error: usersError } = await supabase\n        .from('usuario_tiendas')\n        .select(`\n          usuario_id,\n          usuarios!inner(\n            id,\n            nombre_completo,\n            email\n          )\n        `)\n        .eq('tienda_id', tiendaId);\n\n      if (usersError) {\n        console.error('Error obteniendo usuarios de la tienda:', usersError);\n        return [];\n      }\n\n      if (!users || users.length === 0) {\n        console.warn('‚ö†Ô∏è No hay usuarios en la tienda');\n        return [];\n      }\n\n      // Obtener estad√≠sticas generales de cotizaciones de la tienda\n      const { data: quotesStats, error: quotesError } = await supabase\n        .from('cotizaciones')\n        .select('total, estado')\n        .eq('tienda_id', tiendaId) // FILTRO POR TIENDA\n        .in('estado', ['aceptada', 'enviada', 'borrador']);\n\n      if (quotesError) {\n        console.error('Error obteniendo estad√≠sticas de cotizaciones:', quotesError);\n        return [];\n      }\n\n      const totalQuotes = quotesStats?.length || 0;\n      const totalValue = quotesStats?.reduce((sum, quote) => sum + (quote.total || 0), 0) || 0;\n\n      // Generar estad√≠sticas simuladas basadas en datos reales de la tienda\n      return users.map((userTienda, index) => {\n        const user = userTienda.usuarios;\n        const quotesCount = Math.max(1, Math.floor(totalQuotes / users.length) - index);\n        const userValue = Math.max(0, totalValue / users.length * (1 - index * 0.2));\n\n        return {\n          id: user.id,\n          nombre: user.nombre_completo || 'Usuario',\n          email: user.email || '',\n          cotizaciones: quotesCount,\n          total_cotizado: userValue\n        };\n      })\n        .sort((a, b) => b.total_cotizado - a.total_cotizado)\n        .slice(0, 5);\n    } catch (error) {\n      console.error('Error obteniendo usuarios que m√°s cotizan:', error);\n      return [];\n    }\n  },\n\n  async getTopQuotingClients(): Promise<TopQuotingClient[]> {\n    try {\n      // SEGURIDAD: Obtener tienda actual del usuario\n      const tiendaId = await getCurrentUserStore();\n\n      const { data, error } = await supabase\n        .from('cotizaciones')\n        .select(`\n          total,\n          clientes!inner(\n            id,\n            nombre_razon_social,\n            nombre_comercial,\n            correo_principal,\n            tienda_id\n          )\n        `)\n        .eq('tienda_id', tiendaId) // FILTRO POR TIENDA\n        .eq('clientes.tienda_id', tiendaId) // DOBLE FILTRO POR SEGURIDAD\n        .in('estado', ['aceptada', 'enviada', 'borrador']);\n\n      if (error) throw error;\n\n      const clientMap = new Map<string, {\n        id: string;\n        name: string;\n        email: string;\n        quotesCount: number;\n        totalValue: number;\n      }>();\n\n      data?.forEach(quote => {\n        const client = quote.clientes;\n        const key = client.id;\n        \n        if (!clientMap.has(key)) {\n          clientMap.set(key, {\n            id: client.id,\n            name: client.nombre_comercial || client.nombre_razon_social || 'Cliente sin nombre',\n            email: client.correo_principal || '',\n            quotesCount: 0,\n            totalValue: 0\n          });\n        }\n\n        const clientData = clientMap.get(key)!;\n        clientData.quotesCount += 1;\n        clientData.totalValue += quote.total || 0;\n      });\n\n      return Array.from(clientMap.values())\n        .sort((a, b) => b.quotesCount - a.quotesCount)\n        .slice(0, 5);\n    } catch (error) {\n      console.error('Error obteniendo clientes que m√°s cotizan:', error);\n      return [];\n    }\n  }\n};\n","import { useState, useEffect } from 'react';\nimport ModuleCard from './ModuleCard';\nimport { usePermissions } from '../../../hooks/usePermissions';\nimport { dashboardService, DashboardStats } from '../../../services/dashboardService';\n\nexport default function ModularDashboard() {\n  const { hasPermission, canRead } = usePermissions();\n  const [stats, setStats] = useState<DashboardStats>({\n    totalInventory: 0,\n    totalValue: 0,\n    activeQuotes: 0,\n    pendingRequests: 0,\n    totalClients: 0,\n    productsWithBOM: 0,\n    lowStockItems: 0\n  });\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    console.log('[MODULAR DASHBOARD] üöÄ Iniciando carga de datos del dashboard');\n    loadDashboardData();\n  }, []);\n\n  const loadDashboardData = async () => {\n    try {\n      setLoading(true);\n      console.log('[MODULAR DASHBOARD] üìä Obteniendo estad√≠sticas...');\n      \n      const statsData = await dashboardService.getStats();\n      \n      console.log('[MODULAR DASHBOARD] ‚úÖ Estad√≠sticas obtenidas:', statsData);\n      setStats(statsData);\n    } catch (error) {\n      console.error('[MODULAR DASHBOARD] ‚ùå Error cargando datos:', error);\n    } finally {\n      setLoading(false);\n      console.log('[MODULAR DASHBOARD] üèÅ Carga completada');\n    }\n  };\n\n  // Definici√≥n de m√≥dulos con sus permisos\n  const modules = [\n    // INVENTARIO\n    {\n      id: 'inventario',\n      permission: 'inventario:view',\n      title: 'Inventario',\n      description: 'Control de stock y art√≠culos',\n      icon: 'ri-archive-line',\n      color: 'bg-blue-600',\n      gradient: 'bg-gradient-to-r from-blue-500 to-blue-600',\n      value: stats.totalInventory.toLocaleString(),\n      subtitle: 'art√≠culos en stock',\n      change: stats.lowStockItems > 0 ? `${stats.lowStockItems} bajo stock` : 'Stock normal',\n      changeType: stats.lowStockItems > 0 ? 'warning' as const : 'positive' as const,\n      route: '/inventario'\n    },\n    // COTIZACIONES\n    {\n      id: 'cotizaciones',\n      permission: 'cotizaciones:view',\n      title: 'Cotizaciones',\n      description: 'Gesti√≥n de cotizaciones',\n      icon: 'ri-file-text-line',\n      color: 'bg-purple-600',\n      gradient: 'bg-gradient-to-r from-purple-500 to-purple-600',\n      value: stats.activeQuotes.toString(),\n      subtitle: 'cotizaciones activas',\n      change: stats.activeQuotes > 0 ? 'En proceso' : 'Sin cotizaciones',\n      changeType: stats.activeQuotes > 0 ? 'positive' as const : 'neutral' as const,\n      route: '/cotizaciones'\n    },\n    // PEDIDOS\n    {\n      id: 'pedidos',\n      permission: 'pedidos:view',\n      title: 'Pedidos',\n      description: 'Gesti√≥n de pedidos',\n      icon: 'ri-shopping-cart-line',\n      color: 'bg-green-600',\n      gradient: 'bg-gradient-to-r from-green-500 to-green-600',\n      value: stats.pendingRequests.toString(),\n      subtitle: 'pedidos pendientes',\n      change: stats.pendingRequests > 0 ? 'Requieren atenci√≥n' : 'Al d√≠a',\n      changeType: stats.pendingRequests > 0 ? 'warning' as const : 'positive' as const,\n      route: '/pedidos'\n    },\n    // CLIENTES\n    {\n      id: 'clientes',\n      permission: 'clientes:view',\n      title: 'Clientes',\n      description: 'Base de datos de clientes',\n      icon: 'ri-user-line',\n      color: 'bg-indigo-600',\n      gradient: 'bg-gradient-to-r from-indigo-500 to-indigo-600',\n      value: stats.totalClients.toString(),\n      subtitle: 'clientes registrados',\n      change: 'Activos',\n      changeType: 'positive' as const,\n      route: '/clientes'\n    },\n    // PRODUCTOS\n    {\n      id: 'productos',\n      permission: 'productos:view',\n      title: 'Productos',\n      description: 'Cat√°logo de productos',\n      icon: 'ri-product-hunt-line',\n      color: 'bg-orange-600',\n      gradient: 'bg-gradient-to-r from-orange-500 to-orange-600',\n      value: stats.productsWithBOM.toString(),\n      subtitle: 'productos con BOM',\n      change: 'Configurados',\n      changeType: 'positive' as const,\n      route: '/productos'\n    },\n    // FACTURACI√ìN\n    {\n      id: 'facturacion',\n      permission: 'facturacion:view',\n      title: 'Facturaci√≥n',\n      description: 'Facturaci√≥n electr√≥nica',\n      icon: 'ri-file-list-3-line',\n      color: 'bg-teal-600',\n      gradient: 'bg-gradient-to-r from-teal-500 to-teal-600',\n      value: new Intl.NumberFormat('es-CR', {\n        style: 'currency',\n        currency: 'CRC',\n        minimumFractionDigits: 0,\n        maximumFractionDigits: 0\n      }).format(stats.totalValue),\n      subtitle: 'valor total facturado',\n      change: 'Actualizado',\n      changeType: 'positive' as const,\n      route: '/facturacion'\n    },\n    // MANTENIMIENTO\n    {\n      id: 'mantenimiento',\n      permission: 'mantenimiento:view',\n      title: 'Mantenimiento',\n      description: 'Control de inventario avanzado',\n      icon: 'ri-tools-line',\n      color: 'bg-red-600',\n      gradient: 'bg-gradient-to-r from-red-500 to-red-600',\n      value: stats.lowStockItems.toString(),\n      subtitle: 'alertas activas',\n      change: stats.lowStockItems > 0 ? 'Requiere atenci√≥n' : 'Todo normal',\n      changeType: stats.lowStockItems > 0 ? 'negative' as const : 'positive' as const,\n      route: '/mantenimiento'\n    },\n    // TAREAS\n    {\n      id: 'tareas',\n      permission: 'tareas:view',\n      title: 'Tareas',\n      description: 'Gesti√≥n de tareas y producci√≥n',\n      icon: 'ri-task-line',\n      color: 'bg-pink-600',\n      gradient: 'bg-gradient-to-r from-pink-500 to-pink-600',\n      value: '0',\n      subtitle: 'tareas pendientes',\n      change: 'Al d√≠a',\n      changeType: 'positive' as const,\n      route: '/tareas'\n    },\n    // OPTIMIZADOR\n    {\n      id: 'optimizador',\n      permission: 'optimizador:view',\n      title: 'Optimizador',\n      description: 'Optimizaci√≥n de cortes 2D',\n      icon: 'ri-layout-grid-line',\n      color: 'bg-cyan-600',\n      gradient: 'bg-gradient-to-r from-cyan-500 to-cyan-600',\n      value: '0',\n      subtitle: 'proyectos activos',\n      change: 'Disponible',\n      changeType: 'positive' as const,\n      route: '/optimizador'\n    },\n    // SEGUIMIENTO\n    {\n      id: 'seguimiento',\n      permission: 'seguimiento:view',\n      title: 'Seguimiento',\n      description: 'Seguimiento de pedidos',\n      icon: 'ri-map-pin-line',\n      color: 'bg-lime-600',\n      gradient: 'bg-gradient-to-r from-lime-500 to-lime-600',\n      value: '0',\n      subtitle: 'pedidos en seguimiento',\n      change: 'Actualizado',\n      changeType: 'positive' as const,\n      route: '/seguimiento'\n    },\n    // AN√ÅLISIS DE TAREAS\n    {\n      id: 'tabla-datos-tareas',\n      permission: 'tareas:view',\n      title: 'An√°lisis de Tareas',\n      description: 'An√°lisis y reportes de tareas',\n      icon: 'ri-bar-chart-box-line',\n      color: 'bg-amber-600',\n      gradient: 'bg-gradient-to-r from-amber-500 to-amber-600',\n      value: '0',\n      subtitle: 'tareas analizadas',\n      change: 'Disponible',\n      changeType: 'positive' as const,\n      route: '/tabla-datos-tareas'\n    },\n    // SEGURIDAD\n    {\n      id: 'seguridad',\n      permission: 'seguridad:view',\n      title: 'Seguridad',\n      description: 'Usuarios, roles y permisos',\n      icon: 'ri-shield-user-line',\n      color: 'bg-slate-600',\n      gradient: 'bg-gradient-to-r from-slate-500 to-slate-600',\n      value: '0',\n      subtitle: 'usuarios activos',\n      change: 'Configurado',\n      changeType: 'positive' as const,\n      route: '/seguridad'\n    }\n  ];\n\n  // Filtrar m√≥dulos seg√∫n permisos\n  const visibleModules = modules.filter(module => {\n    const hasAccess = hasPermission(module.permission) || canRead(module.id);\n    \n    console.log(`[MODULAR DASHBOARD] üîê M√≥dulo \"${module.title}\":`, {\n      permission: module.permission,\n      hasAccess,\n      canRead: canRead(module.id)\n    });\n    \n    return hasAccess;\n  });\n\n  console.log(`[MODULAR DASHBOARD] üìä M√≥dulos visibles: ${visibleModules.length}/${modules.length}`);\n\n  if (visibleModules.length === 0) {\n    return (\n      <div className=\"bg-yellow-50 border border-yellow-200 rounded-lg p-6 text-center\">\n        <i className=\"ri-lock-line text-4xl text-yellow-600 mb-3\"></i>\n        <h3 className=\"text-lg font-semibold text-yellow-900 mb-2\">\n          Sin acceso a m√≥dulos\n        </h3>\n        <p className=\"text-yellow-700\">\n          No tienes permisos para acceder a ning√∫n m√≥dulo del sistema.\n          <br />\n          Contacta al administrador para solicitar acceso.\n        </p>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Header */}\n      <div className=\"bg-gradient-to-r from-blue-600 to-indigo-700 rounded-xl p-6 text-white shadow-lg\">\n        <div className=\"flex items-center justify-between\">\n          <div>\n            <h1 className=\"text-3xl font-bold mb-2\">Panel de Control</h1>\n            <p className=\"text-blue-100\">\n              Acceso r√°pido a tus m√≥dulos autorizados\n            </p>\n          </div>\n          <div className=\"bg-white/10 backdrop-blur-sm rounded-lg px-4 py-2\">\n            <div className=\"text-sm text-blue-100\">M√≥dulos disponibles</div>\n            <div className=\"text-2xl font-bold\">{visibleModules.length}</div>\n          </div>\n        </div>\n      </div>\n\n      {/* Grid de m√≥dulos */}\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6\">\n        {visibleModules.map((module) => (\n          <ModuleCard\n            key={module.id}\n            title={module.title}\n            description={module.description}\n            icon={module.icon}\n            color={module.color}\n            gradient={module.gradient}\n            value={module.value}\n            subtitle={module.subtitle}\n            change={module.change}\n            changeType={module.changeType}\n            route={module.route}\n            loading={loading}\n          />\n        ))}\n      </div>\n\n      {/* Informaci√≥n adicional */}\n      <div className=\"bg-white rounded-xl shadow-sm border border-gray-100 p-6\">\n        <div className=\"flex items-start\">\n          <div className=\"flex-shrink-0\">\n            <i className=\"ri-information-line text-2xl text-blue-600\"></i>\n          </div>\n          <div className=\"ml-4\">\n            <h3 className=\"text-sm font-semibold text-gray-900 mb-1\">\n              Informaci√≥n del Dashboard\n            </h3>\n            <p className=\"text-sm text-gray-600\">\n              Este dashboard muestra √∫nicamente los m√≥dulos a los que tienes acceso seg√∫n tus permisos.\n              Si necesitas acceso a m√≥dulos adicionales, contacta al administrador del sistema.\n            </p>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n","\nimport { useState, useEffect } from 'react';\nimport { dashboardService, SalesData, InventoryDistribution } from '../../../services/dashboardService';\n\nexport default function ChartsSection() {\n  const [activeTab, setActiveTab] = useState('ventas');\n  const [salesData, setSalesData] = useState<SalesData[]>([]);\n  const [inventoryData, setInventoryData] = useState<InventoryDistribution[]>([]);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    const loadChartsData = async () => {\n      try {\n        setLoading(true);\n        const [sales, inventory] = await Promise.all([\n          dashboardService.getSalesData(),\n          dashboardService.getInventoryDistribution()\n        ]);\n        \n        setSalesData(sales);\n        setInventoryData(inventory);\n      } catch (error) {\n        console.error('Error cargando datos de gr√°ficos:', error);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    loadChartsData();\n  }, []);\n\n  const maxValue = Math.max(...salesData.map(item => item.value));\n\n  if (loading) {\n    return (\n      <div className=\"bg-white shadow rounded-lg\">\n        <div className=\"px-6 py-4 border-b border-gray-200\">\n          <h3 className=\"text-lg font-medium text-gray-900\">An√°lisis</h3>\n        </div>\n        <div className=\"p-6 flex items-center justify-center h-64\">\n          <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600\"></div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"bg-white shadow rounded-lg\">\n      <div className=\"px-6 py-4 border-b border-gray-200\">\n        <div className=\"flex items-center justify-between\">\n          <h3 className=\"text-lg font-medium text-gray-900\">An√°lisis</h3>\n          <div className=\"flex space-x-1 bg-gray-100 rounded-lg p-1\">\n            <button\n              onClick={() => setActiveTab('ventas')}\n              className={`px-3 py-1 text-sm font-medium rounded-md transition-colors cursor-pointer whitespace-nowrap ${\n                activeTab === 'ventas'\n                  ? 'bg-white text-gray-900 shadow-sm'\n                  : 'text-gray-500 hover:text-gray-700'\n              }`}\n            >\n              Ventas\n            </button>\n            <button\n              onClick={() => setActiveTab('inventario')}\n              className={`px-3 py-1 text-sm font-medium rounded-md transition-colors cursor-pointer whitespace-nowrap ${\n                activeTab === 'inventario'\n                  ? 'bg-white text-gray-900 shadow-sm'\n                  : 'text-gray-500 hover:text-gray-700'\n              }`}\n            >\n              Inventario\n            </button>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"p-6\">\n        {activeTab === 'ventas' && (\n          <div>\n            {salesData.length > 0 ? (\n              <div className=\"flex items-end justify-between h-64 space-x-2\">\n                {salesData.map((item, index) => (\n                  <div key={index} className=\"flex flex-col items-center flex-1\">\n                    <div className=\"w-full bg-gray-200 rounded-t-md relative\" style={{ height: '200px' }}>\n                      <div\n                        className=\"bg-blue-500 rounded-t-md absolute bottom-0 w-full transition-all duration-500\"\n                        style={{ height: `${maxValue > 0 ? (item.value / maxValue) * 100 : 0}%` }}\n                      ></div>\n                    </div>\n                    <div className=\"mt-2 text-sm font-medium text-gray-900\">\n                      {item.month}\n                    </div>\n                    <div className=\"text-xs text-gray-500\">\n                      {new Intl.NumberFormat('es-CR', {\n                        style: 'currency',\n                        currency: 'CRC',\n                        minimumFractionDigits: 0,\n                        maximumFractionDigits: 0\n                      }).format(item.value)}\n                    </div>\n                  </div>\n                ))}\n              </div>\n            ) : (\n              <div className=\"flex items-center justify-center h-64 text-gray-500\">\n                <div className=\"text-center\">\n                  <i className=\"ri-bar-chart-line text-4xl mb-2\"></i>\n                  <p>No hay datos de ventas disponibles</p>\n                </div>\n              </div>\n            )}\n            <div className=\"mt-4 text-center\">\n              <p className=\"text-sm text-gray-500\">Ventas mensuales (√∫ltimos 6 meses)</p>\n            </div>\n          </div>\n        )}\n\n        {activeTab === 'inventario' && (\n          <div>\n            {inventoryData.length > 0 ? (\n              <div className=\"space-y-4\">\n                {inventoryData.map((item, index) => (\n                  <div key={index} className=\"flex items-center\">\n                    <div className=\"flex-1\">\n                      <div className=\"flex items-center justify-between mb-1\">\n                        <span className=\"text-sm font-medium text-gray-900\">\n                          {item.category}\n                        </span>\n                        <div className=\"text-right\">\n                          <span className=\"text-sm text-gray-900 font-medium\">\n                            {item.value}%\n                          </span>\n                          <span className=\"text-xs text-gray-500 ml-2\">\n                            ({item.count} items)\n                          </span>\n                        </div>\n                      </div>\n                      <div className=\"w-full bg-gray-200 rounded-full h-2\">\n                        <div\n                          className={`h-2 rounded-full ${item.color} transition-all duration-500`}\n                          style={{ width: `${item.value}%` }}\n                        ></div>\n                      </div>\n                    </div>\n                  </div>\n                ))}\n              </div>\n            ) : (\n              <div className=\"flex items-center justify-center h-64 text-gray-500\">\n                <div className=\"text-center\">\n                  <i className=\"ri-pie-chart-line text-4xl mb-2\"></i>\n                  <p>No hay datos de inventario disponibles</p>\n                </div>\n              </div>\n            )}\n            <div className=\"mt-6 text-center\">\n              <p className=\"text-sm text-gray-500\">Distribuci√≥n por categor√≠as</p>\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n","interface Activity {\n  id: number;\n  type: string;\n  description: string;\n  user: string;\n  timestamp: string;\n  status: 'success' | 'info' | 'warning' | 'error';\n}\n\ninterface RecentActivityProps {\n  activities: Activity[];\n  loading?: boolean;\n}\n\nexport default function RecentActivity({ activities, loading }: RecentActivityProps) {\n  const getStatusColor = (status: string) => {\n    switch (status) {\n      case 'success':\n        return 'bg-green-100 text-green-800';\n      case 'info':\n        return 'bg-blue-100 text-blue-800';\n      case 'warning':\n        return 'bg-yellow-100 text-yellow-800';\n      case 'error':\n        return 'bg-red-100 text-red-800';\n      default:\n        return 'bg-gray-100 text-gray-800';\n    }\n  };\n\n  const getStatusIcon = (type: string) => {\n    switch (type) {\n      case 'cotizacion':\n        return 'ri-file-text-line';\n      case 'inventario':\n        return 'ri-archive-line';\n      case 'solicitud':\n        return 'ri-customer-service-line';\n      case 'producto':\n        return 'ri-product-hunt-line';\n      case 'pedido':\n        return 'ri-shopping-cart-line';\n      case 'cliente':\n        return 'ri-user-line';\n      default:\n        return 'ri-information-line';\n    }\n  };\n\n  if (loading) {\n    return (\n      <div className=\"bg-white shadow rounded-lg\">\n        <div className=\"px-6 py-4 border-b border-gray-200\">\n          <h3 className=\"text-lg font-medium text-gray-900\">Actividad Reciente</h3>\n        </div>\n        <div className=\"p-6\">\n          <div className=\"space-y-4\">\n            {[1, 2, 3, 4, 5].map((i) => (\n              <div key={i} className=\"flex items-center space-x-3 animate-pulse\">\n                <div className=\"w-8 h-8 bg-gray-200 rounded-full\"></div>\n                <div className=\"flex-1\">\n                  <div className=\"h-4 bg-gray-200 rounded w-3/4 mb-2\"></div>\n                  <div className=\"h-3 bg-gray-200 rounded w-1/2\"></div>\n                </div>\n              </div>\n            ))}\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"bg-white shadow rounded-lg\">\n      <div className=\"px-6 py-4 border-b border-gray-200\">\n        <h3 className=\"text-lg font-medium text-gray-900\">Actividad Reciente</h3>\n        <p className=\"text-sm text-gray-500 mt-1\">√öltimas acciones en el sistema</p>\n      </div>\n      <div className=\"p-6\">\n        {activities.length > 0 ? (\n          <>\n            <div className=\"flow-root\">\n              <ul className=\"-mb-8\">\n                {activities.map((activity, index) => (\n                  <li key={activity.id}>\n                    <div className=\"relative pb-8\">\n                      {index !== activities.length - 1 && (\n                        <span\n                          className=\"absolute top-4 left-4 -ml-px h-full w-0.5 bg-gray-200\"\n                          aria-hidden=\"true\"\n                        />\n                      )}\n                      <div className=\"relative flex space-x-3\">\n                        <div>\n                          <span className={`h-8 w-8 rounded-full flex items-center justify-center ring-8 ring-white ${getStatusColor(activity.status)}`}>\n                            <i className={`${getStatusIcon(activity.type)} text-sm`}></i>\n                          </span>\n                        </div>\n                        <div className=\"min-w-0 flex-1 pt-1.5 flex justify-between space-x-4\">\n                          <div>\n                            <p className=\"text-sm text-gray-900\">\n                              {activity.description}\n                            </p>\n                            <p className=\"text-sm text-gray-500\">\n                              por <span className=\"font-medium\">{activity.user}</span>\n                            </p>\n                          </div>\n                          <div className=\"text-right text-sm whitespace-nowrap text-gray-500\">\n                            {activity.timestamp}\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n                  </li>\n                ))}\n              </ul>\n            </div>\n            <div className=\"mt-6\">\n              <button className=\"w-full text-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 cursor-pointer whitespace-nowrap transition-colors\">\n                Ver toda la actividad\n              </button>\n            </div>\n          </>\n        ) : (\n          <div className=\"flex flex-col items-center justify-center h-64 text-gray-500\">\n            <i className=\"ri-history-line text-5xl mb-3\"></i>\n            <p className=\"text-lg font-medium\">No hay actividad reciente</p>\n            <p className=\"text-sm\">Las acciones del sistema aparecer√°n aqu√≠</p>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n","\nimport { TopQuotedProduct } from '../../../services/dashboardService';\n\ninterface TopQuotedProductsProps {\n  products: TopQuotedProduct[];\n  loading?: boolean;\n}\n\nexport default function TopQuotedProducts({ products, loading }: TopQuotedProductsProps) {\n  if (loading) {\n    return (\n      <div className=\"bg-white shadow rounded-lg\">\n        <div className=\"px-6 py-4 border-b border-gray-200\">\n          <h3 className=\"text-lg font-medium text-gray-900\">10 Productos M√°s Cotizados</h3>\n        </div>\n        <div className=\"p-6\">\n          <div className=\"animate-pulse space-y-4\">\n            {[...Array(5)].map((_, i) => (\n              <div key={i} className=\"flex items-center space-x-4\">\n                <div className=\"w-8 h-8 bg-gray-200 rounded\"></div>\n                <div className=\"flex-1 space-y-2\">\n                  <div className=\"h-4 bg-gray-200 rounded w-3/4\"></div>\n                  <div className=\"h-3 bg-gray-200 rounded w-1/2\"></div>\n                </div>\n              </div>\n            ))}\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"bg-white shadow rounded-lg\">\n      <div className=\"px-6 py-4 border-b border-gray-200\">\n        <h3 className=\"text-lg font-medium text-gray-900\">10 Productos M√°s Cotizados</h3>\n        <p className=\"text-sm text-gray-500\">Productos con mayor demanda en cotizaciones</p>\n      </div>\n      <div className=\"p-6\">\n        <div className=\"space-y-4\">\n          {products.length === 0 ? (\n            <div className=\"text-center py-8\">\n              <i className=\"ri-file-list-line text-4xl text-gray-300 mb-4\"></i>\n              <p className=\"text-gray-500\">No hay datos de productos cotizados</p>\n            </div>\n          ) : (\n            products.map((product, index) => (\n              <div key={product.id} className=\"flex items-center justify-between p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors\">\n                <div className=\"flex items-center space-x-4\">\n                  <div className={`w-8 h-8 rounded-full flex items-center justify-center text-white font-bold text-sm ${\n                    index === 0 ? 'bg-yellow-500' : \n                    index === 1 ? 'bg-gray-400' : \n                    index === 2 ? 'bg-orange-600' : 'bg-blue-500'\n                  }`}>\n                    {index + 1}\n                  </div>\n                  <div>\n                    <h4 className=\"font-medium text-gray-900\">{product.nombre}</h4>\n                    <p className=\"text-sm text-gray-500\">C√≥digo: {product.codigo}</p>\n                  </div>\n                </div>\n                <div className=\"text-right\">\n                  <div className=\"flex items-center space-x-6\">\n                    <div className=\"text-center\">\n                      <p className=\"text-lg font-semibold text-blue-600\">{product.total_cotizaciones}</p>\n                      <p className=\"text-xs text-gray-500\">Cotizaciones</p>\n                    </div>\n                    <div className=\"text-center\">\n                      <p className=\"text-lg font-semibold text-green-600\">{product.total_cantidad.toLocaleString()}</p>\n                      <p className=\"text-xs text-gray-500\">Cantidad</p>\n                    </div>\n                    <div className=\"text-center\">\n                      <p className=\"text-lg font-semibold text-purple-600\">\n                        {new Intl.NumberFormat('es-CR', {\n                          style: 'currency',\n                          currency: 'CRC',\n                          minimumFractionDigits: 0,\n                          maximumFractionDigits: 0\n                        }).format(product.valor_total)}\n                      </p>\n                      <p className=\"text-xs text-gray-500\">Valor Total</p>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            ))\n          )}\n        </div>\n      </div>\n    </div>\n  );\n}\n","\nimport { TopUsedArticle } from '../../../services/dashboardService';\n\ninterface TopUsedArticlesProps {\n  articles: TopUsedArticle[];\n  loading?: boolean;\n}\n\nexport default function TopUsedArticles({ articles, loading }: TopUsedArticlesProps) {\n  if (loading) {\n    return (\n      <div className=\"bg-white shadow rounded-lg\">\n        <div className=\"px-6 py-4 border-b border-gray-200\">\n          <h3 className=\"text-lg font-medium text-gray-900\">10 Art√≠culos M√°s Usados</h3>\n        </div>\n        <div className=\"p-6\">\n          <div className=\"animate-pulse space-y-4\">\n            {[...Array(5)].map((_, i) => (\n              <div key={i} className=\"flex items-center space-x-4\">\n                <div className=\"w-8 h-8 bg-gray-200 rounded\"></div>\n                <div className=\"flex-1 space-y-2\">\n                  <div className=\"h-4 bg-gray-200 rounded w-3/4\"></div>\n                  <div className=\"h-3 bg-gray-200 rounded w-1/2\"></div>\n                </div>\n              </div>\n            ))}\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"bg-white shadow rounded-lg\">\n      <div className=\"px-6 py-4 border-b border-gray-200\">\n        <h3 className=\"text-lg font-medium text-gray-900\">10 Art√≠culos M√°s Usados</h3>\n        <p className=\"text-sm text-gray-500\">Art√≠culos m√°s utilizados en productos (BOM)</p>\n      </div>\n      <div className=\"p-6\">\n        <div className=\"space-y-4\">\n          {articles.length === 0 ? (\n            <div className=\"text-center py-8\">\n              <i className=\"ri-archive-line text-4xl text-gray-300 mb-4\"></i>\n              <p className=\"text-gray-500\">No hay datos de art√≠culos en productos</p>\n            </div>\n          ) : (\n            articles.map((article, index) => (\n              <div key={article.id} className=\"flex items-center justify-between p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors\">\n                <div className=\"flex items-center space-x-4\">\n                  <div className={`w-8 h-8 rounded-full flex items-center justify-center text-white font-bold text-sm ${\n                    index === 0 ? 'bg-yellow-500' : \n                    index === 1 ? 'bg-gray-400' : \n                    index === 2 ? 'bg-orange-600' : 'bg-green-500'\n                  }`}>\n                    {index + 1}\n                  </div>\n                  <div>\n                    <h4 className=\"font-medium text-gray-900\">{article.nombre}</h4>\n                    <p className=\"text-sm text-gray-500\">C√≥digo: {article.codigo}</p>\n                  </div>\n                </div>\n                <div className=\"text-right\">\n                  <div className=\"flex items-center space-x-6\">\n                    <div className=\"text-center\">\n                      <p className=\"text-lg font-semibold text-blue-600\">{article.total_productos}</p>\n                      <p className=\"text-xs text-gray-500\">Productos</p>\n                    </div>\n                    <div className=\"text-center\">\n                      <p className=\"text-lg font-semibold text-green-600\">{article.total_cantidad_usada.toLocaleString()}</p>\n                      <p className=\"text-xs text-gray-500\">Cantidad Total</p>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            ))\n          )}\n        </div>\n      </div>\n    </div>\n  );\n}\n","\nimport { TopQuotingUser } from '../../../services/dashboardService';\n\ninterface TopQuotingUsersProps {\n  users: TopQuotingUser[];\n  loading?: boolean;\n}\n\nexport default function TopQuotingUsers({ users, loading }: TopQuotingUsersProps) {\n  if (loading) {\n    return (\n      <div className=\"bg-white shadow rounded-lg\">\n        <div className=\"px-6 py-4 border-b border-gray-200\">\n          <h3 className=\"text-lg font-medium text-gray-900\">Top 3 Usuarios Generadores</h3>\n        </div>\n        <div className=\"p-6\">\n          <div className=\"animate-pulse space-y-4\">\n            {[...Array(3)].map((_, i) => (\n              <div key={i} className=\"flex items-center space-x-4\">\n                <div className=\"w-12 h-12 bg-gray-200 rounded-full\"></div>\n                <div className=\"flex-1 space-y-2\">\n                  <div className=\"h-4 bg-gray-200 rounded w-3/4\"></div>\n                  <div className=\"h-3 bg-gray-200 rounded w-1/2\"></div>\n                </div>\n              </div>\n            ))}\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"bg-white shadow rounded-lg\">\n      <div className=\"px-6 py-4 border-b border-gray-200\">\n        <h3 className=\"text-lg font-medium text-gray-900\">Top 3 Usuarios Generadores</h3>\n        <p className=\"text-sm text-gray-500\">Usuarios que m√°s cotizaciones han generado</p>\n      </div>\n      <div className=\"p-6\">\n        <div className=\"space-y-6\">\n          {users.length === 0 ? (\n            <div className=\"text-center py-8\">\n              <i className=\"ri-user-line text-4xl text-gray-300 mb-4\"></i>\n              <p className=\"text-gray-500\">No hay datos de usuarios con cotizaciones</p>\n            </div>\n          ) : (\n            users.map((user, index) => (\n              <div key={user.id} className=\"flex items-center justify-between p-4 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg border border-blue-100\">\n                <div className=\"flex items-center space-x-4\">\n                  <div className={`w-12 h-12 rounded-full flex items-center justify-center text-white font-bold ${\n                    index === 0 ? 'bg-gradient-to-r from-yellow-400 to-yellow-600' : \n                    index === 1 ? 'bg-gradient-to-r from-gray-400 to-gray-600' : \n                    'bg-gradient-to-r from-orange-400 to-orange-600'\n                  }`}>\n                    <i className=\"ri-trophy-line text-lg\"></i>\n                  </div>\n                  <div>\n                    <h4 className=\"font-semibold text-gray-900\">{user.nombre}</h4>\n                    <p className=\"text-sm text-gray-600\">{user.email}</p>\n                    <div className=\"flex items-center mt-1\">\n                      <span className={`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${\n                        index === 0 ? 'bg-yellow-100 text-yellow-800' :\n                        index === 1 ? 'bg-gray-100 text-gray-800' :\n                        'bg-orange-100 text-orange-800'\n                      }`}>\n                        #{index + 1} Lugar\n                      </span>\n                    </div>\n                  </div>\n                </div>\n                <div className=\"text-right\">\n                  <div className=\"space-y-1\">\n                    <div className=\"flex items-center space-x-4\">\n                      <div className=\"text-center\">\n                        <p className=\"text-2xl font-bold text-blue-600\">{user.total_cotizaciones}</p>\n                        <p className=\"text-xs text-gray-500\">Cotizaciones</p>\n                      </div>\n                      <div className=\"text-center\">\n                        <p className=\"text-lg font-semibold text-green-600\">\n                          {new Intl.NumberFormat('es-CR', {\n                            style: 'currency',\n                            currency: 'CRC',\n                            minimumFractionDigits: 0,\n                            maximumFractionDigits: 0\n                          }).format(user.valor_total)}\n                        </p>\n                        <p className=\"text-xs text-gray-500\">Valor Total</p>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            ))\n          )}\n        </div>\n      </div>\n    </div>\n  );\n}\n","\nimport { TopQuotingClient } from '../../../services/dashboardService';\n\ninterface TopQuotingClientsProps {\n  clients: TopQuotingClient[];\n  loading?: boolean;\n}\n\nexport default function TopQuotingClients({ clients, loading }: TopQuotingClientsProps) {\n  if (loading) {\n    return (\n      <div className=\"bg-white shadow rounded-lg\">\n        <div className=\"px-6 py-4 border-b border-gray-200\">\n          <h3 className=\"text-lg font-medium text-gray-900\">Top 5 Clientes Generadores</h3>\n        </div>\n        <div className=\"p-6\">\n          <div className=\"animate-pulse space-y-4\">\n            {[...Array(5)].map((_, i) => (\n              <div key={i} className=\"flex items-center space-x-4\">\n                <div className=\"w-10 h-10 bg-gray-200 rounded-full\"></div>\n                <div className=\"flex-1 space-y-2\">\n                  <div className=\"h-4 bg-gray-200 rounded w-3/4\"></div>\n                  <div className=\"h-3 bg-gray-200 rounded w-1/2\"></div>\n                </div>\n              </div>\n            ))}\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"bg-white shadow rounded-lg\">\n      <div className=\"px-6 py-4 border-b border-gray-200\">\n        <h3 className=\"text-lg font-medium text-gray-900\">Top 5 Clientes Generadores</h3>\n        <p className=\"text-sm text-gray-500\">Clientes que m√°s cotizaciones han solicitado</p>\n      </div>\n      <div className=\"p-6\">\n        <div className=\"space-y-4\">\n          {clients.length === 0 ? (\n            <div className=\"text-center py-8\">\n              <i className=\"ri-user-heart-line text-4xl text-gray-300 mb-4\"></i>\n              <p className=\"text-gray-500\">No hay datos de clientes con cotizaciones</p>\n            </div>\n          ) : (\n            clients.map((client, index) => (\n              <div key={client.id} className=\"flex items-center justify-between p-4 bg-gradient-to-r from-green-50 to-emerald-50 rounded-lg border border-green-100 hover:from-green-100 hover:to-emerald-100 transition-colors\">\n                <div className=\"flex items-center space-x-4\">\n                  <div className={`w-10 h-10 rounded-full flex items-center justify-center text-white font-bold text-sm ${\n                    index === 0 ? 'bg-gradient-to-r from-yellow-400 to-yellow-600' : \n                    index === 1 ? 'bg-gradient-to-r from-gray-400 to-gray-600' : \n                    index === 2 ? 'bg-gradient-to-r from-orange-400 to-orange-600' :\n                    'bg-gradient-to-r from-green-400 to-green-600'\n                  }`}>\n                    {index + 1}\n                  </div>\n                  <div>\n                    <h4 className=\"font-semibold text-gray-900\">{client.nombre}</h4>\n                    {client.empresa && (\n                      <p className=\"text-sm text-gray-600\">{client.empresa}</p>\n                    )}\n                    <div className=\"flex items-center mt-1\">\n                      <i className=\"ri-building-line text-xs text-gray-400 mr-1\"></i>\n                      <span className=\"text-xs text-gray-500\">Cliente #{client.id}</span>\n                    </div>\n                  </div>\n                </div>\n                <div className=\"text-right\">\n                  <div className=\"flex items-center space-x-6\">\n                    <div className=\"text-center\">\n                      <p className=\"text-xl font-bold text-blue-600\">{client.total_cotizaciones}</p>\n                      <p className=\"text-xs text-gray-500\">Cotizaciones</p>\n                    </div>\n                    <div className=\"text-center\">\n                      <p className=\"text-lg font-semibold text-green-600\">\n                        {new Intl.NumberFormat('es-CR', {\n                          style: 'currency',\n                          currency: 'CRC',\n                          minimumFractionDigits: 0,\n                          maximumFractionDigits: 0\n                        }).format(client.valor_total)}\n                      </p>\n                      <p className=\"text-xs text-gray-500\">Valor Total</p>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            ))\n          )}\n        </div>\n      </div>\n    </div>\n  );\n}\n","import { useState, useEffect } from 'react';\nimport DashboardLayout from './components/DashboardLayout';\nimport ModularDashboard from './components/ModularDashboard';\nimport ChartsSection from './components/ChartsSection';\nimport RecentActivity from './components/RecentActivity';\nimport TopQuotedProducts from './components/TopQuotedProducts';\nimport TopUsedArticles from './components/TopUsedArticles';\nimport TopQuotingUsers from './components/TopQuotingUsers';\nimport TopQuotingClients from './components/TopQuotingClients';\nimport { usePermissions } from '../../hooks/usePermissions';\nimport { \n  dashboardService, \n  RecentActivity as RecentActivityType,\n  TopQuotedProduct,\n  TopUsedArticle,\n  TopQuotingUser,\n  TopQuotingClient\n} from '../../services/dashboardService';\n\nexport default function DashboardPage() {\n  const { hasPermission } = usePermissions();\n  const [recentActivity, setRecentActivity] = useState<RecentActivityType[]>([]);\n  const [topQuotedProducts, setTopQuotedProducts] = useState<TopQuotedProduct[]>([]);\n  const [topUsedArticles, setTopUsedArticles] = useState<TopUsedArticle[]>([]);\n  const [topQuotingUsers, setTopQuotingUsers] = useState<TopQuotingUser[]>([]);\n  const [topQuotingClients, setTopQuotingClients] = useState<TopQuotingClient[]>([]);\n  const [activityLoading, setActivityLoading] = useState(true);\n  const [analyticsLoading, setAnalyticsLoading] = useState(true);\n\n  // Verificar permisos para secciones avanzadas\n  const canViewCharts = hasPermission('dashboard:charts');\n  const canViewStats = hasPermission('dashboard:stats');\n\n  console.log('[DASHBOARD PAGE] üéØ Permisos del usuario:', {\n    canViewCharts,\n    canViewStats\n  });\n\n  useEffect(() => {\n    console.log('[DASHBOARD PAGE] üöÄ Iniciando carga del dashboard');\n    loadActivityData();\n    if (canViewStats) {\n      loadAnalyticsData();\n    }\n  }, [canViewStats]);\n\n  const loadActivityData = async () => {\n    try {\n      setActivityLoading(true);\n      console.log('[DASHBOARD PAGE] üìä Cargando actividad reciente...');\n      \n      const activityData = await dashboardService.getRecentActivity();\n      \n      console.log('[DASHBOARD PAGE] ‚úÖ Actividad reciente obtenida:', activityData.length, 'registros');\n      setRecentActivity(activityData);\n    } catch (error) {\n      console.error('[DASHBOARD PAGE] ‚ùå Error cargando actividad:', error);\n    } finally {\n      setActivityLoading(false);\n    }\n  };\n\n  const loadAnalyticsData = async () => {\n    try {\n      setAnalyticsLoading(true);\n      console.log('[DASHBOARD PAGE] üìà Cargando datos de an√°lisis...');\n      \n      const [productsData, articlesData, usersData, clientsData] = await Promise.all([\n        dashboardService.getTopQuotedProducts(),\n        dashboardService.getTopUsedArticles(),\n        dashboardService.getTopQuotingUsers(),\n        dashboardService.getTopQuotingClients()\n      ]);\n\n      console.log('[DASHBOARD PAGE] ‚úÖ Datos de an√°lisis obtenidos:', {\n        productos: productsData.length,\n        articulos: articlesData.length,\n        usuarios: usersData.length,\n        clientes: clientsData.length\n      });\n\n      setTopQuotedProducts(productsData);\n      setTopUsedArticles(articlesData);\n      setTopQuotingUsers(usersData);\n      setTopQuotingClients(clientsData);\n    } catch (error) {\n      console.error('[DASHBOARD PAGE] ‚ùå Error cargando an√°lisis:', error);\n    } finally {\n      setAnalyticsLoading(false);\n    }\n  };\n\n  return (\n    <DashboardLayout>\n      <div className=\"space-y-8\">\n        {/* Dashboard Modular con Cards de M√≥dulos */}\n        <ModularDashboard />\n\n        {/* Gr√°ficos y Actividad Reciente - Solo si tiene permisos */}\n        {canViewCharts && (\n          <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-8\">\n            <ChartsSection />\n            <RecentActivity activities={recentActivity} loading={activityLoading} />\n          </div>\n        )}\n\n        {/* Secci√≥n de An√°lisis - Solo si tiene permisos */}\n        {canViewStats && (\n          <>\n            <div className=\"bg-gradient-to-r from-purple-600 to-indigo-700 rounded-xl p-6 text-white shadow-lg\">\n              <h2 className=\"text-2xl font-bold mb-2\">An√°lisis de Rendimiento</h2>\n              <p className=\"text-purple-100\">M√©tricas clave de productividad y ventas</p>\n            </div>\n\n            {/* Top Productos y Art√≠culos */}\n            <div className=\"grid grid-cols-1 xl:grid-cols-2 gap-8\">\n              <TopQuotedProducts products={topQuotedProducts} loading={analyticsLoading} />\n              <TopUsedArticles articles={topUsedArticles} loading={analyticsLoading} />\n            </div>\n\n            {/* Top Usuarios y Clientes */}\n            <div className=\"grid grid-cols-1 xl:grid-cols-2 gap-8\">\n              <TopQuotingUsers users={topQuotingUsers} loading={analyticsLoading} />\n              <TopQuotingClients clients={topQuotingClients} loading={analyticsLoading} />\n            </div>\n\n            {/* Resumen Ejecutivo */}\n            <div className=\"bg-white shadow-sm rounded-xl border border-gray-100\">\n              <div className=\"px-6 py-4 border-b border-gray-200\">\n                <h3 className=\"text-lg font-medium text-gray-900\">Resumen Ejecutivo</h3>\n                <p className=\"text-sm text-gray-500\">Indicadores clave de rendimiento</p>\n              </div>\n              <div className=\"p-6\">\n                {analyticsLoading ? (\n                  <div className=\"flex items-center justify-center h-32\">\n                    <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600\"></div>\n                  </div>\n                ) : (\n                  <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6\">\n                    <div className=\"text-center p-4 bg-blue-50 rounded-lg\">\n                      <i className=\"ri-trophy-line text-3xl text-blue-600 mb-2\"></i>\n                      <h4 className=\"font-semibold text-gray-900\">Producto Estrella</h4>\n                      <p className=\"text-sm text-gray-600 mt-1 truncate\">\n                        {topQuotedProducts.length > 0 ? topQuotedProducts[0].nombre : 'Sin datos'}\n                      </p>\n                      <p className=\"text-xs text-blue-600 font-medium\">\n                        {topQuotedProducts.length > 0 ? `${topQuotedProducts[0].total_cotizaciones} cotizaciones` : ''}\n                      </p>\n                    </div>\n                    \n                    <div className=\"text-center p-4 bg-green-50 rounded-lg\">\n                      <i className=\"ri-archive-line text-3xl text-green-600 mb-2\"></i>\n                      <h4 className=\"font-semibold text-gray-900\">Art√≠culo Clave</h4>\n                      <p className=\"text-sm text-gray-600 mt-1 truncate\">\n                        {topUsedArticles.length > 0 ? topUsedArticles[0].nombre : 'Sin datos'}\n                      </p>\n                      <p className=\"text-xs text-green-600 font-medium\">\n                        {topUsedArticles.length > 0 ? `${topUsedArticles[0].total_productos} productos` : ''}\n                      </p>\n                    </div>\n                    \n                    <div className=\"text-center p-4 bg-purple-50 rounded-lg\">\n                      <i className=\"ri-user-star-line text-3xl text-purple-600 mb-2\"></i>\n                      <h4 className=\"font-semibold text-gray-900\">Usuario Destacado</h4>\n                      <p className=\"text-sm text-gray-600 mt-1 truncate\">\n                        {topQuotingUsers.length > 0 ? topQuotingUsers[0].nombre : 'Sin datos'}\n                      </p>\n                      <p className=\"text-xs text-purple-600 font-medium\">\n                        {topQuotingUsers.length > 0 ? `${topQuotingUsers[0].total_cotizaciones} cotizaciones` : ''}\n                      </p>\n                    </div>\n                    \n                    <div className=\"text-center p-4 bg-yellow-50 rounded-lg\">\n                      <i className=\"ri-user-heart-line text-3xl text-yellow-600 mb-2\"></i>\n                      <h4 className=\"font-semibold text-gray-900\">Cliente VIP</h4>\n                      <p className=\"text-sm text-gray-600 mt-1 truncate\">\n                        {topQuotingClients.length > 0 ? topQuotingClients[0].nombre : 'Sin datos'}\n                      </p>\n                      <p className=\"text-xs text-yellow-600 font-medium\">\n                        {topQuotingClients.length > 0 ? `${topQuotingClients[0].total_cotizaciones} cotizaciones` : ''}\n                      </p>\n                    </div>\n                  </div>\n                )}\n              </div>\n            </div>\n          </>\n        )}\n      </div>\n    </DashboardLayout>\n  );\n}\n"],"names":["DashboardLayout","children","sidebarOpen","setSidebarOpen","useState","jsxs","jsx","Sidebar","TopBar","MobileNav","ModuleCard","title","description","icon","color","gradient","value","subtitle","change","changeType","trend","route","loading","onClick","navigate","useNavigate","handleClick","getChangeColor","getChangeIcon","getCurrentUserStore","user","supabase","tiendaActual","error","dashboardService","tiendaId","inventoryResult","quotesResult","clientsResult","productsResult","totalInventory","totalValue","sum","item","activeQuotes","q","pendingData","pendingRequests","totalClients","totalProducts","lowStock","sixMonthsAgo","quotes","monthlyData","date","monthKey","quote","month","data","categoryData","category","cantidad","precio","colors","index","a","b","activities","requests","request","quotationItems","itemsError","products","productsError","productMap","key","product","p","productData","articleStats","componentId","id","stats","users","usersError","quotesStats","quotesError","totalQuotes","userTienda","quotesCount","userValue","clientMap","client","clientData","ModularDashboard","hasPermission","canRead","usePermissions","setStats","setLoading","useEffect","loadDashboardData","statsData","modules","visibleModules","module","hasAccess","ChartsSection","activeTab","setActiveTab","salesData","setSalesData","inventoryData","setInventoryData","sales","inventory","maxValue","RecentActivity","getStatusColor","status","getStatusIcon","type","i","Fragment","activity","TopQuotedProducts","_","TopUsedArticles","articles","article","TopQuotingUsers","TopQuotingClients","clients","DashboardPage","recentActivity","setRecentActivity","topQuotedProducts","setTopQuotedProducts","topUsedArticles","setTopUsedArticles","topQuotingUsers","setTopQuotingUsers","topQuotingClients","setTopQuotingClients","activityLoading","setActivityLoading","analyticsLoading","setAnalyticsLoading","canViewCharts","canViewStats","loadActivityData","loadAnalyticsData","activityData","productsData","articlesData","usersData","clientsData"],"mappings":"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"}