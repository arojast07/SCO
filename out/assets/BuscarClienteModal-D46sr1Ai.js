import{r as i,j as e}from"./index-Bb3NupjY.js";import{C as f}from"./clienteService-DoS4zFTf.js";function p({onSelect:x,onCancel:o}){const[r,m]=i.useState(""),[l,n]=i.useState([]),[c,d]=i.useState(!1),[a,u]=i.useState(null),h=async s=>{if(s.length<2){n([]);return}try{d(!0);const t=await f.buscarClientes(s);n(t)}catch(t){console.error("Error buscando clientes:",t),n([])}finally{d(!1)}},g=s=>{m(s),a&&clearTimeout(a);const t=setTimeout(()=>{h(s)},300);u(t)},j=s=>{switch(s){case"fisica":return"Física";case"juridica":return"Jurídica";case"extranjero":return"Extranjero";default:return s}};return i.useEffect(()=>()=>{a&&clearTimeout(a)},[a]),e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl max-h-[80vh] flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Buscar Cliente"}),e.jsx("button",{onClick:o,className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx("i",{className:"ri-close-line text-2xl"})})]}),e.jsxs("div",{className:"p-6 border-b border-gray-200",children:[e.jsxs("div",{className:"relative",children:[e.jsx("i",{className:"ri-search-line absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Buscar por nombre, identificación o correo...",value:r,onChange:s=>g(s.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent",autoFocus:!0})]}),r.length>0&&r.length<2&&e.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Ingrese al menos 2 caracteres para buscar"})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto",children:[c&&e.jsxs("div",{className:"flex items-center justify-center p-8",children:[e.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-teal-600"}),e.jsx("span",{className:"ml-3 text-gray-600",children:"Buscando..."})]}),!c&&r.length>=2&&l.length===0&&e.jsxs("div",{className:"text-center p-8",children:[e.jsx("i",{className:"ri-search-line text-4xl text-gray-400 mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No se encontraron clientes"}),e.jsxs("p",{className:"text-gray-600",children:['No hay clientes que coincidan con "',e.jsx("strong",{children:r}),'"']})]}),!c&&l.length>0&&e.jsx("div",{className:"divide-y divide-gray-200",children:l.map(s=>e.jsx("button",{onClick:()=>x(s),className:"w-full p-4 text-left hover:bg-gray-50 transition-colors focus:bg-gray-50 focus:outline-none",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-900 truncate",children:s.nombre_razon_social}),e.jsx("span",{className:"text-xs bg-gray-100 text-gray-600 px-2 py-1 rounded",children:j(s.tipo_persona)})]}),e.jsxs("div",{className:"space-y-1 text-sm text-gray-600",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("i",{className:"ri-id-card-line w-4 h-4 mr-2"}),e.jsx("span",{children:s.identificacion})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("i",{className:"ri-mail-line w-4 h-4 mr-2"}),e.jsx("span",{className:"truncate",children:s.correo_principal})]})]})]}),e.jsx("div",{className:"ml-4",children:e.jsx("i",{className:"ri-arrow-right-line text-gray-400"})})]})},s.id))}),r.length===0&&e.jsxs("div",{className:"text-center p-8",children:[e.jsx("i",{className:"ri-search-2-line text-4xl text-gray-400 mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Buscar Cliente"}),e.jsx("p",{className:"text-gray-600",children:"Ingrese el nombre, identificación o correo del cliente que desea encontrar"})]})]}),e.jsx("div",{className:"p-6 border-t border-gray-200 bg-gray-50",children:e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{onClick:o,className:"px-4 py-2 text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancelar"})})})]})})}export{p as B};
//# sourceMappingURL=BuscarClienteModal-D46sr1Ai.js.map
