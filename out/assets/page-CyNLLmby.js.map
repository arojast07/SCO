{"version":3,"file":"page-CyNLLmby.js","sources":["../../src/pages/perfil/components/PerfilLayout.tsx","../../src/pages/perfil/components/PerfilInfo.tsx","../../src/pages/perfil/components/PerfilPermisos.tsx","../../src/pages/perfil/page.tsx"],"sourcesContent":["import { ReactNode } from 'react';\nimport Sidebar from '../../../components/feature/Sidebar';\nimport TopBar from '../../../components/feature/TopBar';\nimport MobileNav from '../../../components/feature/MobileNav';\nimport { useState } from 'react';\n\ninterface PerfilLayoutProps {\n  children: ReactNode;\n}\n\nexport default function PerfilLayout({ children }: PerfilLayoutProps) {\n  const [isMobileMenuOpen, setIsMobileMenuOpen] = useState(false);\n\n  return (\n    <div className=\"min-h-screen bg-gray-50 flex\">\n      {/* Sidebar */}\n      <Sidebar \n        isOpen={isMobileMenuOpen} \n        onClose={() => setIsMobileMenuOpen(false)} \n      />\n      \n      {/* Main Content */}\n      <div className=\"flex-1 flex flex-col\">\n        {/* TopBar */}\n        <TopBar onMenuClick={() => setIsMobileMenuOpen(true)} />\n        \n        {/* Mobile Navigation */}\n        <MobileNav \n          isOpen={isMobileMenuOpen} \n          onClose={() => setIsMobileMenuOpen(false)} \n        />\n        \n        {/* Page Content */}\n        <main className=\"flex-1 p-4 lg:p-6\">\n          <div className=\"max-w-7xl mx-auto\">\n            {children}\n          </div>\n        </main>\n      </div>\n    </div>\n  );\n}","import { User } from '@supabase/supabase-js';\nimport { useState } from 'react';\nimport { supabase } from '../../../lib/supabase';\nimport { useNotification } from '../../../hooks/useNotification';\n\ninterface UserProfile {\n  id: string;\n  email: string;\n  nombre_completo: string;\n  rol: string;\n  activo: boolean;\n  permisos: string[];\n}\n\ninterface PerfilInfoProps {\n  user: User;\n  profile: UserProfile;\n}\n\nexport default function PerfilInfo({ user, profile }: PerfilInfoProps) {\n  const [isEditing, setIsEditing] = useState(false);\n  const [showPasswordModal, setShowPasswordModal] = useState(false);\n  const [passwordData, setPasswordData] = useState({\n    currentPassword: '',\n    newPassword: '',\n    confirmPassword: ''\n  });\n  const [passwordError, setPasswordError] = useState('');\n  const [isChangingPassword, setIsChangingPassword] = useState(false);\n  const { showNotification } = useNotification();\n\n  // Formatear fecha de creaci칩n\n  const formatDate = (dateString: string) => {\n    return new Date(dateString).toLocaleDateString('es-ES', {\n      year: 'numeric',\n      month: 'long',\n      day: 'numeric',\n      hour: '2-digit',\n      minute: '2-digit'\n    });\n  };\n\n  // Calcular 칰ltimo acceso (simulado por ahora)\n  const getLastAccess = () => {\n    return new Date().toLocaleDateString('es-ES', {\n      year: 'numeric',\n      month: 'long',\n      day: 'numeric',\n      hour: '2-digit',\n      minute: '2-digit'\n    });\n  };\n\n  const handleChangePassword = async (e: React.FormEvent) => {\n    e.preventDefault();\n    \n    if (!passwordData.newPassword || !passwordData.confirmPassword || !passwordData.currentPassword) {\n      setPasswordError('Por favor completa todos los campos');\n      return;\n    }\n\n    if (passwordData.newPassword.length < 6) {\n      setPasswordError('La nueva contrase침a debe tener al menos 6 caracteres');\n      return;\n    }\n\n    if (passwordData.newPassword !== passwordData.confirmPassword) {\n      setPasswordError('Las contrase침as no coinciden');\n      return;\n    }\n\n    if (passwordData.newPassword === passwordData.currentPassword) {\n      setPasswordError('La nueva contrase침a debe ser diferente a la contrase침a actual');\n      return;\n    }\n\n    setIsChangingPassword(true);\n    setPasswordError('');\n\n    try {\n      // Primero verificar la contrase침a actual intentando hacer login\n      const { error: signInError } = await supabase.auth.signInWithPassword({\n        email: user?.email || '',\n        password: passwordData.currentPassword,\n      });\n\n      if (signInError) {\n        setPasswordError('La contrase침a actual es incorrecta');\n        setIsChangingPassword(false);\n        return;\n      }\n\n      // Si la verificaci칩n es exitosa, cambiar la contrase침a\n      const { error } = await supabase.auth.updateUser({\n        password: passwordData.newPassword\n      });\n\n      if (error) {\n        // Manejar el error espec칤fico de contrase침a igual\n        if (error.message.includes('New password should be different')) {\n          setPasswordError('La nueva contrase침a debe ser diferente a la contrase침a actual. Por favor elige una contrase침a diferente.');\n        } else {\n          setPasswordError(error.message);\n        }\n        setIsChangingPassword(false);\n        return;\n      }\n\n      // 칄xito\n      setPasswordData({ currentPassword: '', newPassword: '', confirmPassword: '' });\n      setShowPasswordModal(false);\n      \n      // Mostrar notificaci칩n de 칠xito\n      const successNotification = document.createElement('div');\n      successNotification.className = 'fixed top-4 right-4 bg-green-500 text-white px-6 py-3 rounded-lg shadow-lg z-50 animate-fade-in';\n      successNotification.innerHTML = `\n        <div class=\"flex items-center gap-2\">\n          <i class=\"ri-check-line text-xl\"></i>\n          <span>Contrase침a actualizada correctamente</span>\n        </div>\n      `;\n      document.body.appendChild(successNotification);\n      \n      setTimeout(() => {\n        successNotification.remove();\n      }, 3000);\n\n    } catch (error: any) {\n      console.error('Error al cambiar contrase침a:', error);\n      if (error.message.includes('New password should be different')) {\n        setPasswordError('La nueva contrase침a debe ser diferente a la contrase침a actual. Por favor elige una contrase침a diferente.');\n      } else {\n        setPasswordError('Error al cambiar la contrase침a. Por favor intenta nuevamente.');\n      }\n    } finally {\n      setIsChangingPassword(false);\n    }\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Informaci칩n Personal */}\n      <div className=\"bg-gray-50 rounded-lg p-6\">\n        <div className=\"flex items-center justify-between mb-6\">\n          <h3 className=\"text-lg font-semibold text-gray-900\">Informaci칩n Personal</h3>\n          <button\n            onClick={() => setIsEditing(!isEditing)}\n            className=\"px-4 py-2 text-sm font-medium text-blue-600 bg-blue-50 rounded-lg hover:bg-blue-100 transition-colors\"\n          >\n            <i className=\"ri-edit-line mr-2\"></i>\n            {isEditing ? 'Cancelar' : 'Editar'}\n          </button>\n        </div>\n\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n          {/* Nombre Completo */}\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n              Nombre Completo\n            </label>\n            {isEditing ? (\n              <input\n                type=\"text\"\n                defaultValue={profile.nombre_completo}\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n              />\n            ) : (\n              <p className=\"text-gray-900 bg-white px-3 py-2 rounded-lg border border-gray-200\">\n                {profile.nombre_completo}\n              </p>\n            )}\n          </div>\n\n          {/* Email */}\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n              Correo Electr칩nico\n            </label>\n            {isEditing ? (\n              <input\n                type=\"email\"\n                defaultValue={profile.email}\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n              />\n            ) : (\n              <p className=\"text-gray-900 bg-white px-3 py-2 rounded-lg border border-gray-200\">\n                {profile.email}\n              </p>\n            )}\n          </div>\n\n          {/* ID de Usuario */}\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n              ID de Usuario\n            </label>\n            <p className=\"text-gray-600 bg-gray-100 px-3 py-2 rounded-lg border border-gray-200 font-mono text-sm\">\n              {user.id}\n            </p>\n          </div>\n\n          {/* Rol */}\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n              Rol Asignado\n            </label>\n            <div className=\"flex items-center\">\n              <span className={`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${\n                profile.rol === 'Admin' \n                  ? 'bg-purple-100 text-purple-800' \n                  : 'bg-blue-100 text-blue-800'\n              }`}>\n                <i className=\"ri-shield-user-line mr-1\"></i>\n                {profile.rol}\n              </span>\n            </div>\n          </div>\n\n          {/* Estado */}\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n              Estado de la Cuenta\n            </label>\n            <div className=\"flex items-center\">\n              <span className={`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${\n                profile.activo \n                  ? 'bg-green-100 text-green-800' \n                  : 'bg-red-100 text-red-800'\n              }`}>\n                <i className={`${profile.activo ? 'ri-check-line' : 'ri-close-line'} mr-1`}></i>\n                {profile.activo ? 'Activo' : 'Inactivo'}\n              </span>\n            </div>\n          </div>\n\n          {/* Fecha de Creaci칩n */}\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n              Fecha de Registro\n            </label>\n            <p className=\"text-gray-600 bg-gray-100 px-3 py-2 rounded-lg border border-gray-200\">\n              <i className=\"ri-calendar-line mr-2\"></i>\n              {formatDate(user.created_at)}\n            </p>\n          </div>\n        </div>\n\n        {/* Informaci칩n Adicional */}\n        <div className=\"mt-6 pt-6 border-t border-gray-200\">\n          <h4 className=\"text-md font-medium text-gray-900 mb-4\">Informaci칩n de Sesi칩n</h4>\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n            <div className=\"bg-white p-4 rounded-lg border border-gray-200\">\n              <div className=\"flex items-center\">\n                <i className=\"ri-time-line text-green-500 mr-3\"></i>\n                <div>\n                  <p className=\"text-sm font-medium text-gray-900\">칔ltimo Acceso</p>\n                  <p className=\"text-sm text-gray-600\">{getLastAccess()}</p>\n                </div>\n              </div>\n            </div>\n            <div className=\"bg-white p-4 rounded-lg border border-gray-200\">\n              <div className=\"flex items-center\">\n                <i className=\"ri-shield-check-line text-blue-500 mr-3\"></i>\n                <div>\n                  <p className=\"text-sm font-medium text-gray-900\">Verificaci칩n</p>\n                  <p className=\"text-sm text-gray-600\">\n                    {user.email_confirmed_at ? 'Email verificado' : 'Email pendiente'}\n                  </p>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/* Botones de Acci칩n */}\n        {isEditing && (\n          <div className=\"mt-6 pt-6 border-t border-gray-200\">\n            <div className=\"flex space-x-4\">\n              <button className=\"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors\">\n                <i className=\"ri-save-line mr-2\"></i>\n                Guardar Cambios\n              </button>\n              <button \n                onClick={() => setIsEditing(false)}\n                className=\"px-6 py-2 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400 transition-colors\"\n              >\n                <i className=\"ri-close-line mr-2\"></i>\n                Cancelar\n              </button>\n            </div>\n          </div>\n        )}\n\n        {/* Cambiar Contrase침a */}\n        {!isEditing && (\n          <div className=\"mt-6 pt-6 border-t border-gray-200\">\n            <h4 className=\"text-md font-medium text-gray-900 mb-4\">Seguridad</h4>\n            <button \n              onClick={() => setShowPasswordModal(true)}\n              className=\"px-4 py-2 text-sm font-medium text-orange-600 bg-orange-50 rounded-lg hover:bg-orange-100 transition-colors\"\n            >\n              <i className=\"ri-lock-line mr-2\"></i>\n              Cambiar Contrase침a\n            </button>\n          </div>\n        )}\n      </div>\n\n      {/* Modal Cambiar Contrase침a */}\n      {showPasswordModal && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\n          <div className=\"bg-white rounded-lg shadow-xl max-w-md w-full\">\n            {/* Header */}\n            <div className=\"flex items-center justify-between p-6 border-b border-gray-200\">\n              <div className=\"flex items-center\">\n                <div className=\"w-10 h-10 bg-orange-100 rounded-lg flex items-center justify-center mr-3\">\n                  <i className=\"ri-lock-line text-orange-600 text-xl\"></i>\n                </div>\n                <h3 className=\"text-lg font-semibold text-gray-900\">Cambiar Contrase침a</h3>\n              </div>\n              <button\n                onClick={() => {\n                  setShowPasswordModal(false);\n                  setPasswordData({ currentPassword: '', newPassword: '', confirmPassword: '' });\n                  setPasswordError('');\n                }}\n                className=\"text-gray-400 hover:text-gray-600 transition-colors\"\n              >\n                <i className=\"ri-close-line text-2xl\"></i>\n              </button>\n            </div>\n\n            {/* Body */}\n            <form onSubmit={handleChangePassword} className=\"p-6 space-y-4\">\n              <p className=\"text-sm text-gray-600 mb-4\">\n                Por seguridad, ingresa tu contrase침a actual y luego tu nueva contrase침a.\n              </p>\n\n              {/* Error Message */}\n              {passwordError && (\n                <div className=\"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg flex items-start\">\n                  <i className=\"ri-error-warning-line text-xl mr-2 flex-shrink-0 mt-0.5\"></i>\n                  <span className=\"text-sm\">{passwordError}</span>\n                </div>\n              )}\n\n              {/* Contrase침a Actual */}\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Contrase침a Actual\n                </label>\n                <input\n                  type=\"password\"\n                  value={passwordData.currentPassword}\n                  onChange={(e) => setPasswordData({ ...passwordData, currentPassword: e.target.value })}\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500\"\n                  placeholder=\"Tu contrase침a actual\"\n                  required\n                />\n              </div>\n\n              {/* Nueva Contrase침a */}\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Nueva Contrase침a\n                </label>\n                <input\n                  type=\"password\"\n                  value={passwordData.newPassword}\n                  onChange={(e) => setPasswordData({ ...passwordData, newPassword: e.target.value })}\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500\"\n                  placeholder=\"M칤nimo 6 caracteres\"\n                  required\n                />\n              </div>\n\n              {/* Confirmar Contrase침a */}\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                  Confirmar Nueva Contrase침a\n                </label>\n                <input\n                  type=\"password\"\n                  value={passwordData.confirmPassword}\n                  onChange={(e) => setPasswordData({ ...passwordData, confirmPassword: e.target.value })}\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500\"\n                  placeholder=\"Repite la nueva contrase침a\"\n                  required\n                />\n              </div>\n\n              {/* Indicador de validaci칩n */}\n              {passwordData.newPassword && (\n                <div className=\"space-y-2 bg-gray-50 p-3 rounded-lg\">\n                  <div className=\"flex items-center text-sm\">\n                    <i className={`${passwordData.newPassword.length >= 6 ? 'ri-check-line text-green-500' : 'ri-close-line text-red-500'} mr-2`}></i>\n                    <span className={passwordData.newPassword.length >= 6 ? 'text-green-600' : 'text-red-600'}>\n                      Al menos 6 caracteres\n                    </span>\n                  </div>\n                  <div className=\"flex items-center text-sm\">\n                    <i className={`${passwordData.newPassword === passwordData.confirmPassword && passwordData.confirmPassword ? 'ri-check-line text-green-500' : 'ri-close-line text-gray-400'} mr-2`}></i>\n                    <span className={passwordData.newPassword === passwordData.confirmPassword && passwordData.confirmPassword ? 'text-green-600' : 'text-gray-500'}>\n                      Las contrase침as coinciden\n                    </span>\n                  </div>\n                  {passwordData.currentPassword && passwordData.newPassword && (\n                    <div className=\"flex items-center text-sm\">\n                      <i className={`${passwordData.newPassword !== passwordData.currentPassword ? 'ri-check-line text-green-500' : 'ri-close-line text-red-500'} mr-2`}></i>\n                      <span className={passwordData.newPassword !== passwordData.currentPassword ? 'text-green-600' : 'text-red-600'}>\n                        Diferente a la contrase침a actual\n                      </span>\n                    </div>\n                  )}\n                </div>\n              )}\n\n              {/* Informaci칩n de seguridad */}\n              <div className=\"bg-blue-50 border border-blue-200 rounded-lg p-3\">\n                <div className=\"flex items-start\">\n                  <i className=\"ri-information-line text-blue-600 mr-2 mt-0.5\"></i>\n                  <div className=\"text-sm text-blue-800\">\n                    <p className=\"font-medium mb-1\">Recomendaciones de seguridad:</p>\n                    <ul className=\"list-disc list-inside space-y-1 text-xs\">\n                      <li>Usa al menos 8 caracteres</li>\n                      <li>Combina letras may칰sculas y min칰sculas</li>\n                      <li>Incluye n칰meros y s칤mbolos</li>\n                      <li>No uses informaci칩n personal</li>\n                    </ul>\n                  </div>\n                </div>\n              </div>\n\n              {/* Footer */}\n              <div className=\"flex justify-end space-x-3 pt-4\">\n                <button\n                  type=\"button\"\n                  onClick={() => {\n                    setShowPasswordModal(false);\n                    setPasswordData({ currentPassword: '', newPassword: '', confirmPassword: '' });\n                    setPasswordError('');\n                  }}\n                  className=\"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors\"\n                  disabled={isChangingPassword}\n                >\n                  Cancelar\n                </button>\n                <button\n                  type=\"submit\"\n                  disabled={isChangingPassword || !passwordData.currentPassword || !passwordData.newPassword || !passwordData.confirmPassword || passwordData.newPassword !== passwordData.confirmPassword || passwordData.newPassword.length < 6}\n                  className=\"px-4 py-2 text-sm font-medium text-white bg-orange-600 rounded-lg hover:bg-orange-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center\"\n                >\n                  {isChangingPassword ? (\n                    <>\n                      <div className=\"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2\"></div>\n                      Cambiando...\n                    </>\n                  ) : (\n                    <>\n                      <i className=\"ri-save-line mr-2\"></i>\n                      Cambiar Contrase침a\n                    </>\n                  )}\n                </button>\n              </div>\n            </form>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}","import React from 'react';\nimport { useAuth } from '../../../hooks/useAuth';\n\nconst PerfilPermisos: React.FC = () => {\n  const { profile, permissions } = useAuth();\n\n  console.log('游늶 [PerfilPermisos] ========================================');\n  console.log('游늶 [PerfilPermisos] permissions (del contexto):', permissions.length);\n  console.log('游늶 [PerfilPermisos] Lista completa:', permissions);\n  console.log('游늶 [PerfilPermisos] profile.rol:', profile?.rol);\n  console.log('游늶 [PerfilPermisos] ========================================');\n\n  // Agrupar permisos por m칩dulo\n  const permisosPorModulo = permissions.reduce((acc, permiso) => {\n    const [modulo, ...resto] = permiso.split(':');\n    if (!acc[modulo]) {\n      acc[modulo] = [];\n    }\n    acc[modulo].push(resto.join(':'));\n    return acc;\n  }, {} as Record<string, string[]>);\n\n  console.log('游닍 [PerfilPermisos] Permisos agrupados por m칩dulo:', permisosPorModulo);\n  console.log('游늵 [PerfilPermisos] Estad칤sticas:', {\n    permisosCount: permissions.length,\n    modulosCount: Object.keys(permisosPorModulo).length\n  });\n\n  const modulosOrdenados = Object.keys(permisosPorModulo).sort();\n\n  return (\n    <div className=\"bg-white rounded-lg shadow-sm p-6\">\n      <h2 className=\"text-xl font-semibold mb-4\">Permisos y Roles</h2>\n\n      {/* Rol Asignado */}\n      <div className=\"mb-6\">\n        <h3 className=\"text-sm font-medium text-gray-700 mb-2\">Rol Asignado</h3>\n        <div className=\"bg-blue-50 border border-blue-200 rounded-lg p-3\">\n          <span className=\"text-blue-800 font-medium\">{profile?.rol || 'Sin rol'}</span>\n        </div>\n      </div>\n\n      {/* Permisos */}\n      <div>\n        <h3 className=\"text-sm font-medium text-gray-700 mb-3\">\n          Permisos ({permissions.length} permisos en {modulosOrdenados.length} m칩dulos)\n        </h3>\n\n        {permissions.length === 0 ? (\n          <div className=\"bg-yellow-50 border border-yellow-200 rounded-lg p-4 text-center\">\n            <i className=\"ri-alert-line text-yellow-600 text-2xl mb-2\"></i>\n            <p className=\"text-yellow-800\">No tienes permisos asignados</p>\n            <p className=\"text-yellow-600 text-sm mt-1\">Contacta al administrador</p>\n          </div>\n        ) : (\n          <div className=\"space-y-4\">\n            {modulosOrdenados.map((modulo) => (\n              <div key={modulo} className=\"border border-gray-200 rounded-lg p-4\">\n                <h4 className=\"font-medium text-gray-900 mb-2 capitalize\">\n                  {modulo}\n                </h4>\n                <div className=\"flex flex-wrap gap-2\">\n                  {permisosPorModulo[modulo].map((permiso, index) => (\n                    <span\n                      key={index}\n                      className=\"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800\"\n                    >\n                      <i className=\"ri-check-line mr-1\"></i>\n                      {permiso}\n                    </span>\n                  ))}\n                </div>\n              </div>\n            ))}\n          </div>\n        )}\n      </div>\n\n      {/* Informaci칩n adicional */}\n      <div className=\"mt-6 p-4 bg-gray-50 rounded-lg\">\n        <p className=\"text-sm text-gray-600\">\n          <i className=\"ri-information-line mr-1\"></i>\n          Los permisos determinan qu칠 acciones puedes realizar en cada m칩dulo del sistema.\n        </p>\n      </div>\n    </div>\n  );\n};\n\nexport default PerfilPermisos;\n","import { useState, useEffect } from 'react';\nimport { useAuth } from '../../hooks/useAuth';\nimport PerfilLayout from './components/PerfilLayout';\nimport PerfilInfo from './components/PerfilInfo';\nimport PerfilPermisos from './components/PerfilPermisos';\n\nexport default function PerfilPage() {\n  const { user, profile, loading } = useAuth();\n  const [activeTab, setActiveTab] = useState('info');\n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center\">\n        <div className=\"text-center\">\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4\"></div>\n          <p className=\"text-gray-600\">Cargando perfil...</p>\n        </div>\n      </div>\n    );\n  }\n\n  if (!user || !profile) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center\">\n        <div className=\"text-center\">\n          <i className=\"ri-user-line text-6xl text-gray-300 mb-4\"></i>\n          <h2 className=\"text-xl font-semibold text-gray-700 mb-2\">Acceso no autorizado</h2>\n          <p className=\"text-gray-500\">Debes iniciar sesi칩n para ver tu perfil</p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <PerfilLayout>\n      <div className=\"space-y-6\">\n        {/* Header */}\n        <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\">\n          <div className=\"flex items-center space-x-4\">\n            <div className=\"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center\">\n              <i className=\"ri-user-line text-2xl text-blue-600\"></i>\n            </div>\n            <div>\n              <h1 className=\"text-2xl font-bold text-gray-900\">Mi Perfil</h1>\n              <p className=\"text-gray-600\">Gestiona tu informaci칩n personal y configuraci칩n</p>\n            </div>\n          </div>\n        </div>\n\n        {/* Tabs */}\n        <div className=\"bg-white rounded-lg shadow-sm border border-gray-200\">\n          <div className=\"border-b border-gray-200\">\n            <nav className=\"flex space-x-8 px-6\">\n              <button\n                onClick={() => setActiveTab('info')}\n                className={`py-4 px-1 border-b-2 font-medium text-sm whitespace-nowrap ${\n                  activeTab === 'info'\n                    ? 'border-blue-500 text-blue-600'\n                    : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'\n                }`}\n              >\n                <i className=\"ri-user-line mr-2\"></i>\n                Informaci칩n Personal\n              </button>\n              <button\n                onClick={() => setActiveTab('permisos')}\n                className={`py-4 px-1 border-b-2 font-medium text-sm whitespace-nowrap ${\n                  activeTab === 'permisos'\n                    ? 'border-blue-500 text-blue-600'\n                    : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'\n                }`}\n              >\n                <i className=\"ri-shield-user-line mr-2\"></i>\n                Permisos y Roles\n              </button>\n            </nav>\n          </div>\n\n          <div className=\"p-6\">\n            {activeTab === 'info' && <PerfilInfo user={user} profile={profile} />}\n            {activeTab === 'permisos' && <PerfilPermisos profile={profile} />}\n          </div>\n        </div>\n      </div>\n    </PerfilLayout>\n  );\n}"],"names":["PerfilLayout","children","isMobileMenuOpen","setIsMobileMenuOpen","useState","jsxs","jsx","Sidebar","TopBar","MobileNav","PerfilInfo","user","profile","isEditing","setIsEditing","showPasswordModal","setShowPasswordModal","passwordData","setPasswordData","passwordError","setPasswordError","isChangingPassword","setIsChangingPassword","useNotification","formatDate","dateString","getLastAccess","handleChangePassword","e","signInError","supabase","error","successNotification","Fragment","PerfilPermisos","permissions","useAuth","permisosPorModulo","acc","permiso","modulo","resto","modulosOrdenados","index","PerfilPage","loading","activeTab","setActiveTab"],"mappings":"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"}