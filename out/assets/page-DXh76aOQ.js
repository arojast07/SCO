import{r as u,j as e,u as z,s as x}from"./index-Xz42BvxI.js";import{S as R,T as E,u as A}from"./TopBar-BLe2nnBZ.js";import{M as T}from"./MobileNav-CVw3BIlq.js";function I({children:s}){const[n,t]=u.useState(!1);return e.jsxs("div",{className:"min-h-screen bg-gray-50 flex",children:[e.jsx(R,{isOpen:n,onClose:()=>t(!1)}),e.jsxs("div",{className:"flex-1 flex flex-col min-w-0",children:[e.jsx(E,{onMenuClick:()=>t(!0)}),e.jsx("main",{className:"flex-1 p-4 lg:p-6 pb-20 lg:pb-6 overflow-auto",children:e.jsx("div",{className:"max-w-7xl mx-auto",children:s})})]}),e.jsx(T,{})]})}function M({title:s,description:n,icon:t,color:a,gradient:r,value:i,subtitle:d,change:c,changeType:l="neutral",trend:o,route:m,loading:h,onClick:p}){const g=z(),j=()=>{console.log(`[DASHBOARD CARD] ðŸŽ¯ Click en card: ${s}`),p?p():m&&(console.log(`[DASHBOARD CARD] ðŸ”— Navegando a: ${m}`),g(m))},N=()=>{switch(l){case"positive":return"text-green-600 bg-green-50";case"negative":return"text-red-600 bg-red-50";case"warning":return"text-yellow-600 bg-yellow-50";default:return"text-gray-600 bg-gray-50"}},f=()=>{switch(l){case"positive":return"ri-arrow-up-line";case"negative":return"ri-arrow-down-line";case"warning":return"ri-alert-line";default:return"ri-information-line"}};return h?e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden animate-pulse",children:[e.jsx("div",{className:`h-2 ${r}`}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-32 mb-2"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded w-48"})]}),e.jsx("div",{className:`w-12 h-12 ${a} rounded-xl bg-opacity-10`})]}),e.jsx("div",{className:"h-8 bg-gray-200 rounded w-24 mb-2"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded w-20"})]})]}):e.jsxs("div",{onClick:j,className:`bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden transition-all duration-300 hover:shadow-lg hover:scale-[1.02] ${m||p?"cursor-pointer":""}`,children:[e.jsx("div",{className:`h-2 ${r}`}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:s}),e.jsx("p",{className:"text-sm text-gray-500",children:n})]}),e.jsx("div",{className:`w-12 h-12 ${a} rounded-xl flex items-center justify-center bg-opacity-10 flex-shrink-0 ml-4`,children:e.jsx("i",{className:`${t} text-2xl ${a.replace("bg-","text-")}`})})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("div",{className:"text-3xl font-bold text-gray-900 mb-1",children:i}),e.jsx("div",{className:"text-sm text-gray-600",children:d})]}),e.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-gray-100",children:[c&&e.jsxs("div",{className:`inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium ${N()}`,children:[e.jsx("i",{className:`${f()} mr-1`}),c]}),o&&e.jsx("div",{className:"flex-1 ml-3",children:o}),(m||p)&&e.jsx("i",{className:"ri-arrow-right-line text-gray-400 ml-auto"})]})]})]})}const y=async()=>{try{const{data:{user:s}}=await x.auth.getUser();if(!s)throw new Error("Usuario no autenticado");const{data:n,error:t}=await x.from("usuario_tienda_actual").select("tienda_id").eq("usuario_id",s.id).single();if(t||!n?.tienda_id)throw console.warn("âš ï¸ Usuario sin tienda asignada"),new Error("Usuario sin tienda asignada");return console.log("ðŸª Tienda actual del usuario:",n.tienda_id),n.tienda_id}catch(s){throw console.error("âŒ Error obteniendo tienda actual:",s),s}},v={async getCurrentUserStore(){try{const{data:{user:s}}=await x.auth.getUser();if(!s)return console.warn("âš ï¸ Usuario no autenticado"),null;const{data:n,error:t}=await x.from("usuario_tienda_actual").select("tienda_id").eq("usuario_id",s.id).single();return t||!n?.tienda_id?(console.warn("âš ï¸ Usuario sin tienda asignada:",t),null):n.tienda_id}catch(s){return console.error("Error obteniendo tienda actual:",s),null}},async getStats(){try{const s=await y(),[n,t,a,r]=await Promise.all([x.from("inventario").select("cantidad_articulo, precio_articulo, costo_articulo").eq("tienda_id",s),x.from("cotizaciones").select("estado, total").eq("tienda_id",s),x.from("clientes").select("id").eq("tienda_id",s),x.from("productos").select("id").eq("tienda_id",s)]),i=n.data?.length||0,d=n.data?.reduce((g,j)=>g+(j.cantidad_articulo*j.precio_articulo||0),0)||0,c=t.data?.filter(g=>["borrador","enviada"].includes(g.estado)).length||0,{data:l}=await x.from("solicitudes").select("id, estado_id").eq("estado_id",1),o=l?.length||0,m=a.data?.length||0,h=r.data?.length||0,p=n.data?.filter(g=>g.cantidad_articulo<10).length||0;return{totalInventory:i,totalValue:d,activeQuotes:c,pendingRequests:o,totalClients:m,productsWithBOM:h,lowStockItems:p}}catch(s){return console.error("Error obteniendo estadÃ­sticas:",s),{totalInventory:0,totalValue:0,activeQuotes:0,pendingRequests:0,totalClients:0,productsWithBOM:0,lowStockItems:0}}},async getSalesData(){try{const s=await y(),n=new Date;n.setMonth(n.getMonth()-6);const{data:t,error:a}=await x.from("cotizaciones").select("created_at, total, estado").eq("tienda_id",s).gte("created_at",n.toISOString()).eq("estado","aceptada");if(a)throw a;const r={};for(let i=5;i>=0;i--){const d=new Date;d.setMonth(d.getMonth()-i);const c=d.toLocaleDateString("es-ES",{month:"short",year:"numeric"});r[c]={sales:0,quotes:0}}return t?.forEach(i=>{if(i.created_at){const c=new Date(i.created_at).toLocaleDateString("es-ES",{month:"short",year:"numeric"});r[c]&&(r[c].quotes+=1,r[c].sales+=i.total||0)}}),Object.entries(r).map(([i,d])=>({month:i,sales:d.sales,quotes:d.quotes}))}catch(s){return console.error("Error obteniendo datos de ventas:",s),[]}},async getInventoryDistribution(){try{const s=await y(),{data:n,error:t}=await x.from("inventario").select(`
          cantidad_articulo,
          precio_articulo,
          costo_articulo,
          categorias (nombre)
        `).eq("tienda_id",s).eq("activo",!0);if(t)throw t;const a={};n?.forEach(c=>{const l=c.categorias?.nombre||"Sin categorÃ­a",o=c.cantidad_articulo||0,m=c.precio_articulo||c.costo_articulo||0,h=o*m;a[l]||(a[l]={count:0,value:0}),a[l].count+=1,a[l].value+=h});const r=["bg-blue-500","bg-green-500","bg-yellow-500","bg-red-500","bg-purple-500","bg-indigo-500"],i=Object.values(a).reduce((c,l)=>c+l.value,0);return Object.entries(a).map(([c,l],o)=>({category:c,value:i>0?Math.round(l.value/i*100):0,count:l.count,color:r[o%r.length]})).sort((c,l)=>l.value-c.value).slice(0,6)}catch(s){return console.error("Error obteniendo distribuciÃ³n de inventario:",s),[{category:"Sin categorÃ­a",value:100,count:0,color:"bg-gray-500"}]}},async getRecentActivity(){try{const s=await y(),n=[],{data:t}=await x.from("cotizaciones").select(`
          id,
          numero_cotizacion,
          estado,
          created_at,
          usuarios (nombre_completo)
        `).eq("tienda_id",s).order("created_at",{ascending:!1}).limit(5);t?.forEach(r=>{n.push({id:r.id,type:"cotizacion",description:`CotizaciÃ³n ${r.numero_cotizacion} ${r.estado}`,user:r.usuarios?.nombre_completo||"Usuario",timestamp:new Date(r.created_at).toLocaleDateString("es-ES"),status:r.estado==="aceptada"?"success":"info"})});const{data:a}=await x.from("solicitudes").select(`
          id,
          descripcion,
          estado_id,
          created_at,
          usuarios (nombre_completo)
        `).order("created_at",{ascending:!1}).limit(3);return a?.forEach(r=>{n.push({id:r.id+1e3,type:"solicitud",description:`Solicitud: ${r.descripcion?.substring(0,50)}...`,user:r.usuarios?.nombre_completo||"Usuario",timestamp:new Date(r.created_at).toLocaleDateString("es-ES"),status:r.estado_id===3?"success":"warning"})}),n.sort((r,i)=>new Date(i.timestamp).getTime()-new Date(r.timestamp).getTime()).slice(0,8)}catch(s){return console.error("Error obteniendo actividad reciente:",s),[]}},async getTopQuotedProducts(){try{const s=await y(),{data:n,error:t}=await x.from("cotizacion_items").select(`
          producto_id,
          cantidad,
          precio_unitario,
          cotizaciones!inner(estado, tienda_id)
        `).eq("cotizaciones.tienda_id",s).in("cotizaciones.estado",["aceptada","enviada"]);if(t)throw t;const{data:a,error:r}=await x.from("productos").select(`
          id_producto,
          codigo_producto,
          descripcion_producto
        `).eq("tienda_id",s);if(r)throw r;const i=new Map;return n?.forEach(d=>{const c=d.producto_id;if(!i.has(c)){const l=a?.find(o=>o.id_producto===d.producto_id);l&&i.set(c,{id:l.id_producto,name:l.descripcion_producto||"Producto sin descripciÃ³n",code:l.codigo_producto||`PROD-${l.id_producto}`,quotesCount:0,totalQuantity:0,totalValue:0})}if(i.has(c)){const l=i.get(c);l.totalQuantity+=d.cantidad||0,l.totalValue+=(d.cantidad||0)*(d.precio_unitario||0),l.quotesCount+=1}}),Array.from(i.values()).map(d=>({id:parseInt(d.id),nombre:d.name,codigo:d.code,total_cotizaciones:d.quotesCount,total_cantidad:d.totalQuantity,valor_total:d.totalValue})).sort((d,c)=>c.total_cotizaciones-d.total_cotizaciones).slice(0,10)}catch(s){return console.error("Error obteniendo productos mÃ¡s cotizados:",s),[]}},async getTopUsedArticles(){try{const s=await y(),{data:n,error:t}=await x.from("bom_items").select(`
          id_componente,
          cantidad_x_unidad,
          nombre_componente,
          productos!inner(tienda_id)
        `).eq("productos.tienda_id",s);if(t)throw t;const a={};return n?.forEach(r=>{const i=r.id_componente;a[i]||(a[i]={name:r.nombre_componente||"Componente sin nombre",code:`COMP-${i}`,totalUsage:0,productsCount:0}),a[i].totalUsage+=r.cantidad_x_unidad||0,a[i].productsCount+=1}),Object.entries(a).map(([r,i])=>({id:parseInt(r),nombre:i.name,codigo:i.code,total_productos:i.productsCount,total_cantidad_usada:i.totalUsage})).sort((r,i)=>i.total_cantidad_usada-r.total_cantidad_usada).slice(0,10)}catch(s){return console.error("Error obteniendo artÃ­culos mÃ¡s usados:",s),[]}},async getTopQuotingUsers(){try{const s=await this.getCurrentUserStore();if(!s)return console.warn("âš ï¸ Usuario sin tienda asignada"),[];const{data:n,error:t}=await x.from("usuario_tiendas").select(`
          usuario_id,
          usuarios!inner(
            id,
            nombre_completo,
            email
          )
        `).eq("tienda_id",s);if(t)return console.error("Error obteniendo usuarios de la tienda:",t),[];if(!n||n.length===0)return console.warn("âš ï¸ No hay usuarios en la tienda"),[];const{data:a,error:r}=await x.from("cotizaciones").select("total, estado").eq("tienda_id",s).in("estado",["aceptada","enviada","borrador"]);if(r)return console.error("Error obteniendo estadÃ­sticas de cotizaciones:",r),[];const i=a?.length||0,d=a?.reduce((c,l)=>c+(l.total||0),0)||0;return n.map((c,l)=>{const o=c.usuarios,m=Math.max(1,Math.floor(i/n.length)-l),h=Math.max(0,d/n.length*(1-l*.2));return{id:o.id,nombre:o.nombre_completo||"Usuario",email:o.email||"",cotizaciones:m,total_cotizado:h}}).sort((c,l)=>l.total_cotizado-c.total_cotizado).slice(0,5)}catch(s){return console.error("Error obteniendo usuarios que mÃ¡s cotizan:",s),[]}},async getTopQuotingClients(){try{const s=await y(),{data:n,error:t}=await x.from("cotizaciones").select(`
          total,
          clientes!inner(
            id,
            nombre_razon_social,
            nombre_comercial,
            correo_principal,
            tienda_id
          )
        `).eq("tienda_id",s).eq("clientes.tienda_id",s).in("estado",["aceptada","enviada","borrador"]);if(t)throw t;const a=new Map;return n?.forEach(r=>{const i=r.clientes,d=i.id;a.has(d)||a.set(d,{id:i.id,name:i.nombre_comercial||i.nombre_razon_social||"Cliente sin nombre",email:i.correo_principal||"",quotesCount:0,totalValue:0});const c=a.get(d);c.quotesCount+=1,c.totalValue+=r.total||0}),Array.from(a.values()).sort((r,i)=>i.quotesCount-r.quotesCount).slice(0,5)}catch(s){return console.error("Error obteniendo clientes que mÃ¡s cotizan:",s),[]}}};function O(){const{hasPermission:s,canRead:n}=A(),[t,a]=u.useState({totalInventory:0,totalValue:0,activeQuotes:0,pendingRequests:0,totalClients:0,productsWithBOM:0,lowStockItems:0}),[r,i]=u.useState(!0);u.useEffect(()=>{console.log("[MODULAR DASHBOARD] ðŸš€ Iniciando carga de datos del dashboard"),d()},[]);const d=async()=>{try{i(!0),console.log("[MODULAR DASHBOARD] ðŸ“Š Obteniendo estadÃ­sticas...");const o=await v.getStats();console.log("[MODULAR DASHBOARD] âœ… EstadÃ­sticas obtenidas:",o),a(o)}catch(o){console.error("[MODULAR DASHBOARD] âŒ Error cargando datos:",o)}finally{i(!1),console.log("[MODULAR DASHBOARD] ðŸ Carga completada")}},c=[{id:"inventario",permission:"inventario:view",title:"Inventario",description:"Control de stock y artÃ­culos",icon:"ri-archive-line",color:"bg-blue-600",gradient:"bg-gradient-to-r from-blue-500 to-blue-600",value:t.totalInventory.toLocaleString(),subtitle:"artÃ­culos en stock",change:t.lowStockItems>0?`${t.lowStockItems} bajo stock`:"Stock normal",changeType:t.lowStockItems>0?"warning":"positive",route:"/inventario"},{id:"cotizaciones",permission:"cotizaciones:view",title:"Cotizaciones",description:"GestiÃ³n de cotizaciones",icon:"ri-file-text-line",color:"bg-purple-600",gradient:"bg-gradient-to-r from-purple-500 to-purple-600",value:t.activeQuotes.toString(),subtitle:"cotizaciones activas",change:t.activeQuotes>0?"En proceso":"Sin cotizaciones",changeType:t.activeQuotes>0?"positive":"neutral",route:"/cotizaciones"},{id:"pedidos",permission:"pedidos:view",title:"Pedidos",description:"GestiÃ³n de pedidos",icon:"ri-shopping-cart-line",color:"bg-green-600",gradient:"bg-gradient-to-r from-green-500 to-green-600",value:t.pendingRequests.toString(),subtitle:"pedidos pendientes",change:t.pendingRequests>0?"Requieren atenciÃ³n":"Al dÃ­a",changeType:t.pendingRequests>0?"warning":"positive",route:"/pedidos"},{id:"clientes",permission:"clientes:view",title:"Clientes",description:"Base de datos de clientes",icon:"ri-user-line",color:"bg-indigo-600",gradient:"bg-gradient-to-r from-indigo-500 to-indigo-600",value:t.totalClients.toString(),subtitle:"clientes registrados",change:"Activos",changeType:"positive",route:"/clientes"},{id:"productos",permission:"productos:view",title:"Productos",description:"CatÃ¡logo de productos",icon:"ri-product-hunt-line",color:"bg-orange-600",gradient:"bg-gradient-to-r from-orange-500 to-orange-600",value:t.productsWithBOM.toString(),subtitle:"productos con BOM",change:"Configurados",changeType:"positive",route:"/productos"},{id:"facturacion",permission:"facturacion:view",title:"FacturaciÃ³n",description:"FacturaciÃ³n electrÃ³nica",icon:"ri-file-list-3-line",color:"bg-teal-600",gradient:"bg-gradient-to-r from-teal-500 to-teal-600",value:new Intl.NumberFormat("es-CR",{style:"currency",currency:"CRC",minimumFractionDigits:0,maximumFractionDigits:0}).format(t.totalValue),subtitle:"valor total facturado",change:"Actualizado",changeType:"positive",route:"/facturacion"},{id:"mantenimiento",permission:"mantenimiento:view",title:"Mantenimiento",description:"Control de inventario avanzado",icon:"ri-tools-line",color:"bg-red-600",gradient:"bg-gradient-to-r from-red-500 to-red-600",value:t.lowStockItems.toString(),subtitle:"alertas activas",change:t.lowStockItems>0?"Requiere atenciÃ³n":"Todo normal",changeType:t.lowStockItems>0?"negative":"positive",route:"/mantenimiento"},{id:"tareas",permission:"tareas:view",title:"Tareas",description:"GestiÃ³n de tareas y producciÃ³n",icon:"ri-task-line",color:"bg-pink-600",gradient:"bg-gradient-to-r from-pink-500 to-pink-600",value:"0",subtitle:"tareas pendientes",change:"Al dÃ­a",changeType:"positive",route:"/tareas"},{id:"optimizador",permission:"optimizador:view",title:"Optimizador",description:"OptimizaciÃ³n de cortes 2D",icon:"ri-layout-grid-line",color:"bg-cyan-600",gradient:"bg-gradient-to-r from-cyan-500 to-cyan-600",value:"0",subtitle:"proyectos activos",change:"Disponible",changeType:"positive",route:"/optimizador"},{id:"seguimiento",permission:"seguimiento:view",title:"Seguimiento",description:"Seguimiento de pedidos",icon:"ri-map-pin-line",color:"bg-lime-600",gradient:"bg-gradient-to-r from-lime-500 to-lime-600",value:"0",subtitle:"pedidos en seguimiento",change:"Actualizado",changeType:"positive",route:"/seguimiento"},{id:"tabla-datos-tareas",permission:"tareas:view",title:"AnÃ¡lisis de Tareas",description:"AnÃ¡lisis y reportes de tareas",icon:"ri-bar-chart-box-line",color:"bg-amber-600",gradient:"bg-gradient-to-r from-amber-500 to-amber-600",value:"0",subtitle:"tareas analizadas",change:"Disponible",changeType:"positive",route:"/tabla-datos-tareas"},{id:"seguridad",permission:"seguridad:view",title:"Seguridad",description:"Usuarios, roles y permisos",icon:"ri-shield-user-line",color:"bg-slate-600",gradient:"bg-gradient-to-r from-slate-500 to-slate-600",value:"0",subtitle:"usuarios activos",change:"Configurado",changeType:"positive",route:"/seguridad"}],l=c.filter(o=>{const m=s(o.permission)||n(o.id);return console.log(`[MODULAR DASHBOARD] ðŸ” MÃ³dulo "${o.title}":`,{permission:o.permission,hasAccess:m,canRead:n(o.id)}),m});return console.log(`[MODULAR DASHBOARD] ðŸ“Š MÃ³dulos visibles: ${l.length}/${c.length}`),l.length===0?e.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-6 text-center",children:[e.jsx("i",{className:"ri-lock-line text-4xl text-yellow-600 mb-3"}),e.jsx("h3",{className:"text-lg font-semibold text-yellow-900 mb-2",children:"Sin acceso a mÃ³dulos"}),e.jsxs("p",{className:"text-yellow-700",children:["No tienes permisos para acceder a ningÃºn mÃ³dulo del sistema.",e.jsx("br",{}),"Contacta al administrador para solicitar acceso."]})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-700 rounded-xl p-6 text-white shadow-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold mb-2",children:"Panel de Control"}),e.jsx("p",{className:"text-blue-100",children:"Acceso rÃ¡pido a tus mÃ³dulos autorizados"})]}),e.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg px-4 py-2",children:[e.jsx("div",{className:"text-sm text-blue-100",children:"MÃ³dulos disponibles"}),e.jsx("div",{className:"text-2xl font-bold",children:l.length})]})]})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:l.map(o=>e.jsx(M,{title:o.title,description:o.description,icon:o.icon,color:o.color,gradient:o.gradient,value:o.value,subtitle:o.subtitle,change:o.change,changeType:o.changeType,route:o.route,loading:r},o.id))}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 p-6",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("i",{className:"ri-information-line text-2xl text-blue-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-1",children:"InformaciÃ³n del Dashboard"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Este dashboard muestra Ãºnicamente los mÃ³dulos a los que tienes acceso segÃºn tus permisos. Si necesitas acceso a mÃ³dulos adicionales, contacta al administrador del sistema."})]})]})})]})}function U(){const[s,n]=u.useState("ventas"),[t,a]=u.useState([]),[r,i]=u.useState([]),[d,c]=u.useState(!0);u.useEffect(()=>{(async()=>{try{c(!0);const[m,h]=await Promise.all([v.getSalesData(),v.getInventoryDistribution()]);a(m),i(h)}catch(m){console.error("Error cargando datos de grÃ¡ficos:",m)}finally{c(!1)}})()},[]);const l=Math.max(...t.map(o=>o.value));return d?e.jsxs("div",{className:"bg-white shadow rounded-lg",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"AnÃ¡lisis"})}),e.jsx("div",{className:"p-6 flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})})]}):e.jsxs("div",{className:"bg-white shadow rounded-lg",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"AnÃ¡lisis"}),e.jsxs("div",{className:"flex space-x-1 bg-gray-100 rounded-lg p-1",children:[e.jsx("button",{onClick:()=>n("ventas"),className:`px-3 py-1 text-sm font-medium rounded-md transition-colors cursor-pointer whitespace-nowrap ${s==="ventas"?"bg-white text-gray-900 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:"Ventas"}),e.jsx("button",{onClick:()=>n("inventario"),className:`px-3 py-1 text-sm font-medium rounded-md transition-colors cursor-pointer whitespace-nowrap ${s==="inventario"?"bg-white text-gray-900 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:"Inventario"})]})]})}),e.jsxs("div",{className:"p-6",children:[s==="ventas"&&e.jsxs("div",{children:[t.length>0?e.jsx("div",{className:"flex items-end justify-between h-64 space-x-2",children:t.map((o,m)=>e.jsxs("div",{className:"flex flex-col items-center flex-1",children:[e.jsx("div",{className:"w-full bg-gray-200 rounded-t-md relative",style:{height:"200px"},children:e.jsx("div",{className:"bg-blue-500 rounded-t-md absolute bottom-0 w-full transition-all duration-500",style:{height:`${l>0?o.value/l*100:0}%`}})}),e.jsx("div",{className:"mt-2 text-sm font-medium text-gray-900",children:o.month}),e.jsx("div",{className:"text-xs text-gray-500",children:new Intl.NumberFormat("es-CR",{style:"currency",currency:"CRC",minimumFractionDigits:0,maximumFractionDigits:0}).format(o.value)})]},m))}):e.jsx("div",{className:"flex items-center justify-center h-64 text-gray-500",children:e.jsxs("div",{className:"text-center",children:[e.jsx("i",{className:"ri-bar-chart-line text-4xl mb-2"}),e.jsx("p",{children:"No hay datos de ventas disponibles"})]})}),e.jsx("div",{className:"mt-4 text-center",children:e.jsx("p",{className:"text-sm text-gray-500",children:"Ventas mensuales (Ãºltimos 6 meses)"})})]}),s==="inventario"&&e.jsxs("div",{children:[r.length>0?e.jsx("div",{className:"space-y-4",children:r.map((o,m)=>e.jsx("div",{className:"flex items-center",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("span",{className:"text-sm font-medium text-gray-900",children:o.category}),e.jsxs("div",{className:"text-right",children:[e.jsxs("span",{className:"text-sm text-gray-900 font-medium",children:[o.value,"%"]}),e.jsxs("span",{className:"text-xs text-gray-500 ml-2",children:["(",o.count," items)"]})]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:`h-2 rounded-full ${o.color} transition-all duration-500`,style:{width:`${o.value}%`}})})]})},m))}):e.jsx("div",{className:"flex items-center justify-center h-64 text-gray-500",children:e.jsxs("div",{className:"text-center",children:[e.jsx("i",{className:"ri-pie-chart-line text-4xl mb-2"}),e.jsx("p",{children:"No hay datos de inventario disponibles"})]})}),e.jsx("div",{className:"mt-6 text-center",children:e.jsx("p",{className:"text-sm text-gray-500",children:"DistribuciÃ³n por categorÃ­as"})})]})]})]})}function q({activities:s,loading:n}){const t=r=>{switch(r){case"success":return"bg-green-100 text-green-800";case"info":return"bg-blue-100 text-blue-800";case"warning":return"bg-yellow-100 text-yellow-800";case"error":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},a=r=>{switch(r){case"cotizacion":return"ri-file-text-line";case"inventario":return"ri-archive-line";case"solicitud":return"ri-customer-service-line";case"producto":return"ri-product-hunt-line";case"pedido":return"ri-shopping-cart-line";case"cliente":return"ri-user-line";default:return"ri-information-line"}};return n?e.jsxs("div",{className:"bg-white shadow rounded-lg",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Actividad Reciente"})}),e.jsx("div",{className:"p-6",children:e.jsx("div",{className:"space-y-4",children:[1,2,3,4,5].map(r=>e.jsxs("div",{className:"flex items-center space-x-3 animate-pulse",children:[e.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded-full"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-2"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]})]},r))})})]}):e.jsxs("div",{className:"bg-white shadow rounded-lg",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Actividad Reciente"}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Ãšltimas acciones en el sistema"})]}),e.jsx("div",{className:"p-6",children:s.length>0?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flow-root",children:e.jsx("ul",{className:"-mb-8",children:s.map((r,i)=>e.jsx("li",{children:e.jsxs("div",{className:"relative pb-8",children:[i!==s.length-1&&e.jsx("span",{className:"absolute top-4 left-4 -ml-px h-full w-0.5 bg-gray-200","aria-hidden":"true"}),e.jsxs("div",{className:"relative flex space-x-3",children:[e.jsx("div",{children:e.jsx("span",{className:`h-8 w-8 rounded-full flex items-center justify-center ring-8 ring-white ${t(r.status)}`,children:e.jsx("i",{className:`${a(r.type)} text-sm`})})}),e.jsxs("div",{className:"min-w-0 flex-1 pt-1.5 flex justify-between space-x-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-900",children:r.description}),e.jsxs("p",{className:"text-sm text-gray-500",children:["por ",e.jsx("span",{className:"font-medium",children:r.user})]})]}),e.jsx("div",{className:"text-right text-sm whitespace-nowrap text-gray-500",children:r.timestamp})]})]})]})},r.id))})}),e.jsx("div",{className:"mt-6",children:e.jsx("button",{className:"w-full text-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 cursor-pointer whitespace-nowrap transition-colors",children:"Ver toda la actividad"})})]}):e.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-gray-500",children:[e.jsx("i",{className:"ri-history-line text-5xl mb-3"}),e.jsx("p",{className:"text-lg font-medium",children:"No hay actividad reciente"}),e.jsx("p",{className:"text-sm",children:"Las acciones del sistema aparecerÃ¡n aquÃ­"})]})})]})}function $({products:s,loading:n}){return n?e.jsxs("div",{className:"bg-white shadow rounded-lg",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"10 Productos MÃ¡s Cotizados"})}),e.jsx("div",{className:"p-6",children:e.jsx("div",{className:"animate-pulse space-y-4",children:[...Array(5)].map((t,a)=>e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded"}),e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]})]},a))})})]}):e.jsxs("div",{className:"bg-white shadow rounded-lg",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"10 Productos MÃ¡s Cotizados"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Productos con mayor demanda en cotizaciones"})]}),e.jsx("div",{className:"p-6",children:e.jsx("div",{className:"space-y-4",children:s.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("i",{className:"ri-file-list-line text-4xl text-gray-300 mb-4"}),e.jsx("p",{className:"text-gray-500",children:"No hay datos de productos cotizados"})]}):s.map((t,a)=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-white font-bold text-sm ${a===0?"bg-yellow-500":a===1?"bg-gray-400":a===2?"bg-orange-600":"bg-blue-500"}`,children:a+1}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900",children:t.nombre}),e.jsxs("p",{className:"text-sm text-gray-500",children:["CÃ³digo: ",t.codigo]})]})]}),e.jsx("div",{className:"text-right",children:e.jsxs("div",{className:"flex items-center space-x-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-lg font-semibold text-blue-600",children:t.total_cotizaciones}),e.jsx("p",{className:"text-xs text-gray-500",children:"Cotizaciones"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-lg font-semibold text-green-600",children:t.total_cantidad.toLocaleString()}),e.jsx("p",{className:"text-xs text-gray-500",children:"Cantidad"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-lg font-semibold text-purple-600",children:new Intl.NumberFormat("es-CR",{style:"currency",currency:"CRC",minimumFractionDigits:0,maximumFractionDigits:0}).format(t.valor_total)}),e.jsx("p",{className:"text-xs text-gray-500",children:"Valor Total"})]})]})})]},t.id))})})]})}function P({articles:s,loading:n}){return n?e.jsxs("div",{className:"bg-white shadow rounded-lg",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"10 ArtÃ­culos MÃ¡s Usados"})}),e.jsx("div",{className:"p-6",children:e.jsx("div",{className:"animate-pulse space-y-4",children:[...Array(5)].map((t,a)=>e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded"}),e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]})]},a))})})]}):e.jsxs("div",{className:"bg-white shadow rounded-lg",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"10 ArtÃ­culos MÃ¡s Usados"}),e.jsx("p",{className:"text-sm text-gray-500",children:"ArtÃ­culos mÃ¡s utilizados en productos (BOM)"})]}),e.jsx("div",{className:"p-6",children:e.jsx("div",{className:"space-y-4",children:s.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("i",{className:"ri-archive-line text-4xl text-gray-300 mb-4"}),e.jsx("p",{className:"text-gray-500",children:"No hay datos de artÃ­culos en productos"})]}):s.map((t,a)=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-white font-bold text-sm ${a===0?"bg-yellow-500":a===1?"bg-gray-400":a===2?"bg-orange-600":"bg-green-500"}`,children:a+1}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900",children:t.nombre}),e.jsxs("p",{className:"text-sm text-gray-500",children:["CÃ³digo: ",t.codigo]})]})]}),e.jsx("div",{className:"text-right",children:e.jsxs("div",{className:"flex items-center space-x-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-lg font-semibold text-blue-600",children:t.total_productos}),e.jsx("p",{className:"text-xs text-gray-500",children:"Productos"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-lg font-semibold text-green-600",children:t.total_cantidad_usada.toLocaleString()}),e.jsx("p",{className:"text-xs text-gray-500",children:"Cantidad Total"})]})]})})]},t.id))})})]})}function k({users:s,loading:n}){return n?e.jsxs("div",{className:"bg-white shadow rounded-lg",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Top 3 Usuarios Generadores"})}),e.jsx("div",{className:"p-6",children:e.jsx("div",{className:"animate-pulse space-y-4",children:[...Array(3)].map((t,a)=>e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-full"}),e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]})]},a))})})]}):e.jsxs("div",{className:"bg-white shadow rounded-lg",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Top 3 Usuarios Generadores"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Usuarios que mÃ¡s cotizaciones han generado"})]}),e.jsx("div",{className:"p-6",children:e.jsx("div",{className:"space-y-6",children:s.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("i",{className:"ri-user-line text-4xl text-gray-300 mb-4"}),e.jsx("p",{className:"text-gray-500",children:"No hay datos de usuarios con cotizaciones"})]}):s.map((t,a)=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg border border-blue-100",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:`w-12 h-12 rounded-full flex items-center justify-center text-white font-bold ${a===0?"bg-gradient-to-r from-yellow-400 to-yellow-600":a===1?"bg-gradient-to-r from-gray-400 to-gray-600":"bg-gradient-to-r from-orange-400 to-orange-600"}`,children:e.jsx("i",{className:"ri-trophy-line text-lg"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:t.nombre}),e.jsx("p",{className:"text-sm text-gray-600",children:t.email}),e.jsx("div",{className:"flex items-center mt-1",children:e.jsxs("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${a===0?"bg-yellow-100 text-yellow-800":a===1?"bg-gray-100 text-gray-800":"bg-orange-100 text-orange-800"}`,children:["#",a+1," Lugar"]})})]})]}),e.jsx("div",{className:"text-right",children:e.jsx("div",{className:"space-y-1",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-blue-600",children:t.total_cotizaciones}),e.jsx("p",{className:"text-xs text-gray-500",children:"Cotizaciones"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-lg font-semibold text-green-600",children:new Intl.NumberFormat("es-CR",{style:"currency",currency:"CRC",minimumFractionDigits:0,maximumFractionDigits:0}).format(t.valor_total)}),e.jsx("p",{className:"text-xs text-gray-500",children:"Valor Total"})]})]})})})]},t.id))})})]})}function B({clients:s,loading:n}){return n?e.jsxs("div",{className:"bg-white shadow rounded-lg",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Top 5 Clientes Generadores"})}),e.jsx("div",{className:"p-6",children:e.jsx("div",{className:"animate-pulse space-y-4",children:[...Array(5)].map((t,a)=>e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-10 h-10 bg-gray-200 rounded-full"}),e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]})]},a))})})]}):e.jsxs("div",{className:"bg-white shadow rounded-lg",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Top 5 Clientes Generadores"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Clientes que mÃ¡s cotizaciones han solicitado"})]}),e.jsx("div",{className:"p-6",children:e.jsx("div",{className:"space-y-4",children:s.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("i",{className:"ri-user-heart-line text-4xl text-gray-300 mb-4"}),e.jsx("p",{className:"text-gray-500",children:"No hay datos de clientes con cotizaciones"})]}):s.map((t,a)=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gradient-to-r from-green-50 to-emerald-50 rounded-lg border border-green-100 hover:from-green-100 hover:to-emerald-100 transition-colors",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center text-white font-bold text-sm ${a===0?"bg-gradient-to-r from-yellow-400 to-yellow-600":a===1?"bg-gradient-to-r from-gray-400 to-gray-600":a===2?"bg-gradient-to-r from-orange-400 to-orange-600":"bg-gradient-to-r from-green-400 to-green-600"}`,children:a+1}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-gray-900",children:t.nombre}),t.empresa&&e.jsx("p",{className:"text-sm text-gray-600",children:t.empresa}),e.jsxs("div",{className:"flex items-center mt-1",children:[e.jsx("i",{className:"ri-building-line text-xs text-gray-400 mr-1"}),e.jsxs("span",{className:"text-xs text-gray-500",children:["Cliente #",t.id]})]})]})]}),e.jsx("div",{className:"text-right",children:e.jsxs("div",{className:"flex items-center space-x-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-xl font-bold text-blue-600",children:t.total_cotizaciones}),e.jsx("p",{className:"text-xs text-gray-500",children:"Cotizaciones"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-lg font-semibold text-green-600",children:new Intl.NumberFormat("es-CR",{style:"currency",currency:"CRC",minimumFractionDigits:0,maximumFractionDigits:0}).format(t.valor_total)}),e.jsx("p",{className:"text-xs text-gray-500",children:"Valor Total"})]})]})})]},t.id))})})]})}function F(){const{hasPermission:s}=A(),[n,t]=u.useState([]),[a,r]=u.useState([]),[i,d]=u.useState([]),[c,l]=u.useState([]),[o,m]=u.useState([]),[h,p]=u.useState(!0),[g,j]=u.useState(!0),N=s("dashboard:charts"),f=s("dashboard:stats");console.log("[DASHBOARD PAGE] ðŸŽ¯ Permisos del usuario:",{canViewCharts:N,canViewStats:f}),u.useEffect(()=>{console.log("[DASHBOARD PAGE] ðŸš€ Iniciando carga del dashboard"),S(),f&&C()},[f]);const S=async()=>{try{p(!0),console.log("[DASHBOARD PAGE] ðŸ“Š Cargando actividad reciente...");const b=await v.getRecentActivity();console.log("[DASHBOARD PAGE] âœ… Actividad reciente obtenida:",b.length,"registros"),t(b)}catch(b){console.error("[DASHBOARD PAGE] âŒ Error cargando actividad:",b)}finally{p(!1)}},C=async()=>{try{j(!0),console.log("[DASHBOARD PAGE] ðŸ“ˆ Cargando datos de anÃ¡lisis...");const[b,w,_,D]=await Promise.all([v.getTopQuotedProducts(),v.getTopUsedArticles(),v.getTopQuotingUsers(),v.getTopQuotingClients()]);console.log("[DASHBOARD PAGE] âœ… Datos de anÃ¡lisis obtenidos:",{productos:b.length,articulos:w.length,usuarios:_.length,clientes:D.length}),r(b),d(w),l(_),m(D)}catch(b){console.error("[DASHBOARD PAGE] âŒ Error cargando anÃ¡lisis:",b)}finally{j(!1)}};return e.jsx(I,{children:e.jsxs("div",{className:"space-y-8",children:[e.jsx(O,{}),N&&e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsx(U,{}),e.jsx(q,{activities:n,loading:h})]}),f&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"bg-gradient-to-r from-purple-600 to-indigo-700 rounded-xl p-6 text-white shadow-lg",children:[e.jsx("h2",{className:"text-2xl font-bold mb-2",children:"AnÃ¡lisis de Rendimiento"}),e.jsx("p",{className:"text-purple-100",children:"MÃ©tricas clave de productividad y ventas"})]}),e.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-8",children:[e.jsx($,{products:a,loading:g}),e.jsx(P,{articles:i,loading:g})]}),e.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-8",children:[e.jsx(k,{users:c,loading:g}),e.jsx(B,{clients:o,loading:g})]}),e.jsxs("div",{className:"bg-white shadow-sm rounded-xl border border-gray-100",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Resumen Ejecutivo"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Indicadores clave de rendimiento"})]}),e.jsx("div",{className:"p-6",children:g?e.jsx("div",{className:"flex items-center justify-center h-32",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[e.jsx("i",{className:"ri-trophy-line text-3xl text-blue-600 mb-2"}),e.jsx("h4",{className:"font-semibold text-gray-900",children:"Producto Estrella"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1 truncate",children:a.length>0?a[0].nombre:"Sin datos"}),e.jsx("p",{className:"text-xs text-blue-600 font-medium",children:a.length>0?`${a[0].total_cotizaciones} cotizaciones`:""})]}),e.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[e.jsx("i",{className:"ri-archive-line text-3xl text-green-600 mb-2"}),e.jsx("h4",{className:"font-semibold text-gray-900",children:"ArtÃ­culo Clave"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1 truncate",children:i.length>0?i[0].nombre:"Sin datos"}),e.jsx("p",{className:"text-xs text-green-600 font-medium",children:i.length>0?`${i[0].total_productos} productos`:""})]}),e.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[e.jsx("i",{className:"ri-user-star-line text-3xl text-purple-600 mb-2"}),e.jsx("h4",{className:"font-semibold text-gray-900",children:"Usuario Destacado"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1 truncate",children:c.length>0?c[0].nombre:"Sin datos"}),e.jsx("p",{className:"text-xs text-purple-600 font-medium",children:c.length>0?`${c[0].total_cotizaciones} cotizaciones`:""})]}),e.jsxs("div",{className:"text-center p-4 bg-yellow-50 rounded-lg",children:[e.jsx("i",{className:"ri-user-heart-line text-3xl text-yellow-600 mb-2"}),e.jsx("h4",{className:"font-semibold text-gray-900",children:"Cliente VIP"}),e.jsx("p",{className:"text-sm text-gray-600 mt-1 truncate",children:o.length>0?o[0].nombre:"Sin datos"}),e.jsx("p",{className:"text-xs text-yellow-600 font-medium",children:o.length>0?`${o[0].total_cotizaciones} cotizaciones`:""})]})]})})]})]})]})})}export{F as default};
//# sourceMappingURL=page-DXh76aOQ.js.map
