{"version":3,"file":"CotizacionDetalladaPage-D6DHg-sn.js","sources":["../../src/pages/cotizaciones/components/CotizacionDetallada.tsx","../../src/pages/cotizaciones/CotizacionDetalladaPage.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport { supabase } from '../../../lib/supabase';\nimport { pedidoService } from '../../../services/pedidoService';\nimport NotificationPopup from '../../../components/base/NotificationPopup';\n\ninterface Cliente {\n  id: number;\n  nombre_completo?: string;\n  razon_social?: string;\n  nombre?: string;\n  identificacion?: string;\n  cedula?: string;\n  correo?: string;\n  email?: string;\n  telefono?: string;\n  celular?: string;\n  direccion?: string;\n}\n\ninterface Producto {\n  id_producto: number;\n  codigo_producto: string;\n  descripcion_producto: string;\n}\n\ninterface BOMItem {\n  id: number;\n  product_id: number;\n  id_componente: number;\n  nombre_componente: string;\n  cantidad_x_unidad: number;\n  unidad: string;\n  precio_unitario: number;\n  precio_ajustado: number;\n  precio_unitario_base: number;\n}\n\ninterface CotizacionItem {\n  id: number;\n  producto_id: number;\n  descripcion: string;\n  cantidad: number;\n  precio_unitario: number;\n  descuento: number;\n  subtotal: number;\n  producto?: Producto;\n  bom_items?: BOMItem[];\n}\n\ninterface Cotizacion {\n  id: number;\n  codigo?: string;\n  numero_cotizacion?: string;\n  cliente_id: number;\n  fecha_emision?: string;\n  fecha_cotizacion?: string;\n  fecha_vencimiento: string;\n  subtotal: number;\n  descuento_global?: number;\n  descuento_general?: number;\n  flete?: number;\n  impuestos?: number;\n  impuesto?: number;\n  otros_cargos?: number;\n  total: number;\n  estado: string;\n  notas?: string;\n  observaciones?: string;\n  condiciones?: string;\n  cliente?: Cliente;\n  cotizacion_items: CotizacionItem[];\n}\n\nconst CotizacionDetallada: React.FC = () => {\n  const { id } = useParams<{ id: string }>();\n  const navigate = useNavigate();\n  const [cotizacion, setCotizacion] = useState<Cotizacion | null>(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n  const [expandedItems, setExpandedItems] = useState<{ [key: number]: boolean }>({});\n  const [creatingPedido, setCreatingPedido] = useState(false);\n\n  // Notification state\n  const [notification, setNotification] = useState<{\n    isOpen: boolean;\n    type: 'success' | 'error' | 'warning' | 'info';\n    message: string;\n  }>({\n    isOpen: false,\n    type: 'info',\n    message: ''\n  });\n\n  const showNotification = (type: 'success' | 'error' | 'warning' | 'info', message: string) => {\n    setNotification({ isOpen: true, type, message });\n  };\n\n  const hideNotification = () => {\n    setNotification(prev => ({ ...prev, isOpen: false }));\n  };\n\n  useEffect(() => {\n    if (id) {\n      cargarCotizacionDetallada(parseInt(id));\n    }\n  }, [id]);\n\n  const toggleExpandItem = (itemId: number) => {\n    setExpandedItems(prev => ({\n      ...prev,\n      [itemId]: !prev[itemId]\n    }));\n  };\n\n  const cargarCotizacionDetallada = async (cotizacionId: number) => {\n    try {\n      setLoading(true);\n      setError(null);\n\n      // 1. Cargar cotización\n      const { data: cotizacionData, error: cotizacionError } = await supabase\n        .from('cotizaciones')\n        .select('*')\n        .eq('id', cotizacionId)\n        .single();\n\n      if (cotizacionError) throw cotizacionError;\n\n      // 2. Cargar cliente - manejo más robusto\n      let clienteData = null;\n      if (cotizacionData.cliente_id) {\n        const { data: cliente, error: clienteError } = await supabase\n          .from('clientes')\n          .select('*')\n          .eq('id', cotizacionData.cliente_id)\n          .single();\n\n        if (!clienteError && cliente) {\n          clienteData = cliente;\n        } else {\n          console.warn('No se pudo cargar el cliente:', clienteError);\n          // Intentar cargar datos básicos del cliente desde la cotización si están disponibles\n          clienteData = {\n            id: cotizacionData.cliente_id,\n            nombre_completo: 'Cliente no especificado',\n            identificacion: '3-101-2562-32',\n            correo: 'cliente@ejemplo.com',\n            telefono: '2205-2525',\n            direccion: 'San José, Costa Rica'\n          };\n        }\n      }\n\n      // 3. Cargar items de cotización\n      const { data: itemsData, error: itemsError } = await supabase\n        .from('cotizacion_items')\n        .select('*')\n        .eq('cotizacion_id', cotizacionId);\n\n      if (itemsError) throw itemsError;\n\n      // 4. Cargar productos para cada item (solo si tienen producto_id)\n      const itemsConProductos = await Promise.all(\n        (itemsData || []).map(async (item) => {\n          let producto = null;\n          let bomItems: BOMItem[] = [];\n\n          // Solo cargar producto y BOM si el item tiene producto_id\n          if (item.producto_id) {\n            const { data: productoData } = await supabase\n              .from('productos')\n              .select('*')\n              .eq('id_producto', item.producto_id)\n              .single();\n            producto = productoData;\n\n            // 5. Cargar BOM items para cada producto\n            const { data: bomData } = await supabase\n              .from('bom_items')\n              .select('*')\n              .eq('product_id', item.producto_id);\n            \n            bomItems = bomData || [];\n          }\n\n          return {\n            ...item,\n            producto,\n            bom_items: bomItems\n          };\n        })\n      );\n\n      setCotizacion({\n        ...cotizacionData,\n        cliente: clienteData,\n        cotizacion_items: itemsConProductos\n      });\n\n    } catch (error: any) {\n      console.error('Error cargando cotización detallada:', error);\n      setError(error.message || 'Error al cargar la cotización');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const formatearFecha = (fecha: string | null | undefined) => {\n    if (!fecha) return 'Fecha no disponible';\n    \n    try {\n      const fechaObj = new Date(fecha);\n      if (isNaN(fechaObj.getTime())) {\n        return 'Fecha inválida';\n      }\n      \n      return fechaObj.toLocaleDateString('es-CR', {\n        year: 'numeric',\n        month: 'long',\n        day: 'numeric'\n      });\n    } catch (error) {\n      return 'Fecha inválida';\n    }\n  };\n\n  const formatearMoneda = (valor: number | string | null | undefined) => {\n    const valorNumerico = Number(valor);\n    if (isNaN(valorNumerico) || valor === null || valor === undefined) {\n      return '₡0,00';\n    }\n    \n    return new Intl.NumberFormat('es-CR', {\n      style: 'currency',\n      currency: 'CRC',\n      minimumFractionDigits: 2,\n      maximumFractionDigits: 2\n    }).format(valorNumerico);\n  };\n\n  const calcularTotalBOM = (bomItems: BOMItem[], cantidadItem: number) => {\n    return bomItems.reduce((total, bom) => {\n      const cantidadTotal = cantidadItem * (bom.cantidad_x_unidad || 0);\n      const precio = bom.precio_ajustado || bom.precio_unitario || bom.precio_unitario_base || 0;\n      return total + (cantidadTotal * precio);\n    }, 0);\n  };\n\n  const handleImprimir = () => {\n    try {\n      const printUrl = `${window.location.origin}${window.location.pathname.replace('/detallada', '/print')}`;\n      console.log('Abriendo URL de impresión:', printUrl);\n      window.open(printUrl, '_blank', 'noopener,noreferrer');\n    } catch (error) {\n      console.error('Error al abrir ventana de impresión:', error);\n      // Fallback: intentar con la ruta relativa\n      const fallbackUrl = `/cotizaciones/${id}/print`;\n      window.open(fallbackUrl, '_blank', 'noopener,noreferrer');\n    }\n  };\n\n  const handleCrearPedido = async () => {\n    if (!cotizacion || cotizacion.estado !== 'aprobada') {\n      showNotification('warning', 'Solo se pueden crear pedidos desde cotizaciones aprobadas');\n      return;\n    }\n\n    try {\n      setCreatingPedido(true);\n      const pedido = await pedidoService.createPedidoFromCotizacion(cotizacion.id);\n      showNotification('success', `Pedido ${pedido.codigo} creado exitosamente`);\n      \n      // Navegar a la página de pedidos después de un breve delay\n      setTimeout(() => {\n        window.REACT_APP_NAVIGATE('/pedidos');\n      }, 1500);\n    } catch (error) {\n      console.error('Error al crear pedido:', error);\n      showNotification('error', 'Error al crear pedido: ' + (error as Error).message);\n    } finally {\n      setCreatingPedido(false);\n    }\n  };\n\n  const handleFacturarDirecto = () => {\n    if (!cotizacion || cotizacion.estado !== 'aprobada') {\n      showNotification('warning', 'Solo se pueden facturar cotizaciones aprobadas');\n      return;\n    }\n\n    // Navegar a facturación con datos de la cotización\n    window.REACT_APP_NAVIGATE('/facturacion', { \n      state: { \n        fromCotizacion: true, \n        cotizacionId: cotizacion.id,\n        clienteId: cotizacion.cliente_id,\n        items: cotizacion.cotizacion_items \n      } \n    });\n  };\n\n  if (loading) {\n    return (\n      <div className=\"flex justify-center items-center h-64\">\n        <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600\"></div>\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div className=\"bg-red-50 border border-red-200 rounded-lg p-4\">\n        <div className=\"flex\">\n          <div className=\"flex-shrink-0\">\n            <i className=\"ri-error-warning-line text-red-400 text-xl\"></i>\n          </div>\n          <div className=\"ml-3\">\n            <h3 className=\"text-sm font-medium text-red-800\">Error</h3>\n            <div className=\"mt-2 text-sm text-red-700\">\n              <p>{error}</p>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  if (!cotizacion) {\n    return (\n      <div className=\"text-center py-8\">\n        <p className=\"text-gray-500\">No se encontró la cotización</p>\n      </div>\n    );\n  }\n\n  // Obtener el número de cotización correcto\n  const numeroCotizacion = cotizacion.codigo || cotizacion.numero_cotizacion || cotizacion.id.toString();\n  \n  // Obtener fecha correcta\n  const fechaCotizacion = cotizacion.fecha_emision || cotizacion.fecha_cotizacion || '';\n  \n  // Calcular impuesto correctamente (13% del subtotal después del descuento)\n  const subtotalValor = Number(cotizacion.subtotal) || 0;\n  const descuentoValor = Number(cotizacion.descuento_global || cotizacion.descuento_general) || 0;\n  const subtotalConDescuento = subtotalValor - descuentoValor;\n  const impuestoCalculado = subtotalConDescuento * 0.13;\n  const impuestoValor = Number(cotizacion.impuestos || cotizacion.impuesto) || impuestoCalculado;\n\n  // Obtener datos del cliente de forma más robusta\n  const nombreCliente = cotizacion.cliente?.razon_social || \n                       cotizacion.cliente?.nombre_completo || \n                       cotizacion.cliente?.nombre || \n                       'Cliente Ejemplo S.A.';\n  \n  const identificacionCliente = cotizacion.cliente?.identificacion || \n                               cotizacion.cliente?.cedula || \n                               '3-101-2562-32';\n  \n  const correoCliente = cotizacion.cliente?.correo || \n                       cotizacion.cliente?.email || \n                       'cliente@ejemplo.com';\n  \n  const telefonoCliente = cotizacion.cliente?.telefono || \n                         cotizacion.cliente?.celular || \n                         '2205-2525';\n\n  const direccionCliente = cotizacion.cliente?.direccion || 'San José, Costa Rica';\n\n  return (\n    <div className=\"max-w-6xl mx-auto p-6 bg-white\">\n      {/* Notification Popup */}\n      <NotificationPopup\n        isOpen={notification.isOpen}\n        type={notification.type}\n        message={notification.message}\n        onClose={hideNotification}\n      />\n\n      {/* Encabezado con Logo OLO */}\n      <div className=\"flex justify-between items-start mb-8\">\n        <div className=\"flex items-center\">\n          <img \n            src=\"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRYi7j4OFVRmD2T0m6NyFHqYa96zun92AUTIA&s\" \n            alt=\"OLO Logo\" \n            className=\"w-16 h-16 rounded-lg mr-4 object-contain\"\n          />\n          <div>\n            <h1 className=\"text-2xl font-bold text-gray-900 mb-1\">\n              Overseas Logistics Operations\n            </h1>\n            <div className=\"text-sm text-gray-600 space-y-1\">\n              <p>Centro logístico IRO (CLIRO), Bodega 100A</p>\n              <p>200 mts al oeste de la Iglesia Católica El Coyol, Alajuela</p>\n              <p>Tel: 2205 2525 | Email: Olo@Olo.com</p>\n              <p>Cédula: 3-101-101010</p>\n            </div>\n          </div>\n        </div>\n        <div className=\"text-right\">\n          <h2 className=\"text-2xl font-bold text-gray-900\">COTIZACIÓN</h2>\n          <p className=\"text-lg text-gray-600\">#{numeroCotizacion}</p>\n        </div>\n      </div>\n\n      {/* Información del Cliente y Cotización */}\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-8 mb-8\">\n        {/* Cliente */}\n        <div className=\"bg-gray-50 p-6 rounded-lg\">\n          <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Información del Cliente</h3>\n          <div className=\"space-y-2\">\n            <p><span className=\"font-medium\">Nombre:</span> {nombreCliente}</p>\n            <p><span className=\"font-medium\">Identificación:</span> {identificacionCliente}</p>\n            <p><span className=\"font-medium\">Email:</span> {correoCliente}</p>\n            <p><span className=\"font-medium\">Teléfono:</span> {telefonoCliente}</p>\n            <p><span className=\"font-medium\">Dirección:</span> {direccionCliente}</p>\n          </div>\n        </div>\n\n        {/* Datos de Cotización */}\n        <div className=\"bg-gray-50 p-6 rounded-lg\">\n          <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Datos de la Cotización</h3>\n          <div className=\"space-y-2\">\n            <p><span className=\"font-medium\">Fecha:</span> {formatearFecha(fechaCotizacion)}</p>\n            <p><span className=\"font-medium\">Vencimiento:</span> {formatearFecha(cotizacion.fecha_vencimiento)}</p>\n            <p><span className=\"font-medium\">Estado:</span> \n              <span className={`ml-2 px-2 py-1 rounded-full text-xs font-medium ${\n                cotizacion.estado === 'Aprobada' || cotizacion.estado === 'aprobada' ? 'bg-green-100 text-green-800' :\n                cotizacion.estado === 'Pendiente' || cotizacion.estado === 'pendiente' ? 'bg-yellow-100 text-yellow-800' :\n                'bg-red-100 text-red-800'\n              }`}>\n                {cotizacion.estado}\n              </span>\n            </p>\n          </div>\n        </div>\n      </div>\n\n      {/* Tabla de Productos */}\n      <div className=\"mb-8\">\n        <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Productos Cotizados</h3>\n        <div className=\"overflow-x-auto\">\n          <table className=\"w-full border-collapse border border-gray-300\">\n            <thead className=\"bg-gray-100\">\n              <tr>\n                <th className=\"border border-gray-300 px-4 py-3 text-left font-semibold\">Código</th>\n                <th className=\"border border-gray-300 px-4 py-3 text-left font-semibold\">Descripción</th>\n                <th className=\"border border-gray-300 px-4 py-3 text-center font-semibold\">Cantidad</th>\n                <th className=\"border border-gray-300 px-4 py-3 text-center font-semibold\">Unidad</th>\n                <th className=\"border border-gray-300 px-4 py-3 text-right font-semibold\">Precio Unit.</th>\n                <th className=\"border border-gray-300 px-4 py-3 text-center font-semibold\">Desc. %</th>\n                <th className=\"border border-gray-300 px-4 py-3 text-center font-semibold\">Imp. %</th>\n                <th className=\"border border-gray-300 px-4 py-3 text-right font-semibold\">Total</th>\n              </tr>\n            </thead>\n            <tbody>\n              {cotizacion.cotizacion_items.map((item) => (\n                <React.Fragment key={item.id}>\n                  {/* Fila principal del producto */}\n                  <tr className=\"hover:bg-gray-50\">\n                    <td className=\"border border-gray-300 px-4 py-3\">\n                      {item.producto?.codigo_producto || 'SERV'}\n                    </td>\n                    <td className=\"border border-gray-300 px-4 py-3\">\n                      <div className=\"flex items-center gap-2\">\n                        <span>{item.descripcion}</span>\n                        {item.bom_items && item.bom_items.length > 0 && (\n                          <button\n                            type=\"button\"\n                            className=\"ml-2 text-sm text-blue-600 hover:text-blue-800 print:hidden transition-colors duration-200 flex items-center gap-1\"\n                            aria-expanded={!!expandedItems[item.id]}\n                            title=\"Ver componentes\"\n                            onClick={() => toggleExpandItem(item.id)}\n                          >\n                            <i className={`ri-eye-line transition-transform duration-300 ${\n                              expandedItems[item.id] ? 'rotate-180' : ''\n                            }`}></i>\n                            <span className=\"text-xs\">\n                              {expandedItems[item.id] ? 'Ocultar' : 'Ver'}\n                            </span>\n                          </button>\n                        )}\n                      </div>\n                    </td>\n                    <td className=\"border border-gray-300 px-4 py-3 text-center\">\n                      {Number(item.cantidad).toLocaleString('es-CR', { maximumFractionDigits: 2 })}\n                    </td>\n                    <td className=\"border border-gray-300 px-4 py-3 text-center\">UN</td>\n                    <td className=\"border border-gray-300 px-4 py-3 text-right\">\n                      {formatearMoneda(Number(item.precio_unitario))}\n                    </td>\n                    <td className=\"border border-gray-300 px-4 py-3 text-center\">\n                      {Number(item.descuento || 0).toFixed(1)}%\n                    </td>\n                    <td className=\"border border-gray-300 px-4 py-3 text-center\">13%</td>\n                    <td className=\"border border-gray-300 px-4 py-3 text-right font-semibold\">\n                      {formatearMoneda(Number(item.subtotal))}\n                    </td>\n                  </tr>\n\n                  {/* Subsegmento BOM - Ítems utilizados */}\n                  {(expandedItems[item.id] || typeof window === 'undefined') && item.bom_items && item.bom_items.length > 0 && (\n                    <tr className=\"print:table-row\">\n                      <td colSpan={8} className=\"p-0 border border-gray-300\">\n                        <div className=\"bom-block border-l-4 border-blue-200 bg-blue-50 px-6 py-4 ml-4 mr-2 my-2\">\n                          <div className=\"text-sm font-semibold mb-3 text-gray-700\">Ítems utilizados:</div>\n                          <div className=\"overflow-x-auto\">\n                            <table className=\"w-full text-sm\">\n                              <thead className=\"text-gray-600 bg-white\">\n                                <tr>\n                                  <th className=\"text-left py-2 px-3 border-b border-gray-200\">Código comp.</th>\n                                  <th className=\"text-left py-2 px-3 border-b border-gray-200\">Descripción</th>\n                                  <th className=\"text-right py-2 px-3 border-b border-gray-200\">Cantidad</th>\n                                  <th className=\"text-left py-2 px-3 border-b border-gray-200\">Unidad</th>\n                                  <th className=\"text-right py-2 px-3 border-b border-gray-200\">Precio Unit.</th>\n                                  <th className=\"text-right py-2 px-3 border-b border-gray-200\">Total</th>\n                                </tr>\n                              </thead>\n                              <tbody className=\"bg-white\">\n                                {item.bom_items.map((comp) => {\n                                  const cantidadTotal = Number(item.cantidad) * Number(comp.cantidad_x_unidad || 0);\n                                  const precioUnitario = Number(comp.precio_ajustado || comp.precio_unitario || comp.precio_unitario_base || 0);\n                                  const totalComponente = cantidadTotal * precioUnitario;\n                                  \n                                  return (\n                                    <tr key={comp.id} className=\"hover:bg-gray-50\">\n                                      <td className=\"py-2 px-3 border-b border-gray-100\">\n                                        {comp.id_componente || '—'}\n                                      </td>\n                                      <td className=\"py-2 px-3 border-b border-gray-100\">\n                                        {comp.nombre_componente || 'Sin descripción'}\n                                      </td>\n                                      <td className=\"text-right py-2 px-3 border-b border-gray-100\">\n                                        {cantidadTotal.toLocaleString('es-CR', { maximumFractionDigits: 2 })}\n                                      </td>\n                                      <td className=\"py-2 px-3 border-b border-gray-100\">\n                                        {comp.unidad || '—'}\n                                      </td>\n                                      <td className=\"text-right py-2 px-3 border-b border-gray-100\">\n                                        {formatearMoneda(precioUnitario)}\n                                      </td>\n                                      <td className=\"text-right py-2 px-3 border-b border-gray-100 font-medium\">\n                                        {formatearMoneda(totalComponente)}\n                                      </td>\n                                    </tr>\n                                  );\n                                })}\n                              </tbody>\n                            </table>\n                          </div>\n                        </div>\n                      </td>\n                    </tr>\n                  )}\n                </React.Fragment>\n              ))}\n            </tbody>\n          </table>\n        </div>\n      </div>\n\n      {/* Totales */}\n      <div className=\"flex justify-end mb-8\">\n        <div className=\"w-full max-w-md\">\n          <div className=\"bg-gray-50 p-6 rounded-lg\">\n            <div className=\"space-y-3\">\n              <div className=\"flex justify-between\">\n                <span className=\"font-medium\">Subtotal:</span>\n                <span>{formatearMoneda(subtotalValor)}</span>\n              </div>\n              <div className=\"flex justify-between\">\n                <span className=\"font-medium\">Descuento:</span>\n                <span>-{formatearMoneda(descuentoValor)}</span>\n              </div>\n              <div className=\"flex justify-between\">\n                <span className=\"font-medium\">Impuesto:</span>\n                <span>{formatearMoneda(impuestoValor)}</span>\n              </div>\n              {cotizacion.flete && Number(cotizacion.flete) > 0 && (\n                <div className=\"flex justify-between\">\n                  <span className=\"font-medium\">Flete:</span>\n                  <span>{formatearMoneda(Number(cotizacion.flete))}</span>\n                </div>\n              )}\n              {cotizacion.otros_cargos && Number(cotizacion.otros_cargos) > 0 && (\n                <div className=\"flex justify-between\">\n                  <span className=\"font-medium\">Otros:</span>\n                  <span>{formatearMoneda(Number(cotizacion.otros_cargos))}</span>\n                </div>\n              )}\n              <div className=\"border-t border-gray-300 pt-3\">\n                <div className=\"flex justify-between text-lg font-bold\">\n                  <span>Total:</span>\n                  <span>{formatearMoneda(Number(cotizacion.total))}</span>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Observaciones */}\n      {(cotizacion.notas || cotizacion.observaciones) && (\n        <div className=\"mb-8\">\n          <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Observaciones</h3>\n          <div className=\"bg-gray-50 p-4 rounded-lg\">\n            <p className=\"text-gray-700\">{cotizacion.notas || cotizacion.observaciones}</p>\n          </div>\n        </div>\n      )}\n\n      {/* Pie de página */}\n      <div className=\"border-t border-gray-300 pt-6 text-center text-sm text-gray-600\">\n        <p>Cotización generada el {formatearFecha(new Date().toISOString())}</p>\n        <p className=\"mt-2\">Overseas Logistics Operations - Sistema de Gestión de Cotizaciones</p>\n      </div>\n\n      {/* Botones de acción */}\n      <div className=\"flex justify-between items-center mt-8 print:hidden\">\n        <button\n          onClick={() => navigate('/cotizaciones')}\n          className=\"px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors duration-200 flex items-center gap-2\"\n        >\n          <i className=\"ri-arrow-left-line\"></i>\n          Volver a Cotizaciones\n        </button>\n        \n        <button\n          onClick={handleImprimir}\n          className=\"w-12 h-12 bg-gradient-to-r from-orange-500 to-orange-600 text-white rounded-full hover:from-orange-600 hover:to-orange-700 transition-all duration-200 flex items-center justify-center shadow-lg hover:shadow-xl transform hover:scale-105\"\n          title=\"Imprimir cotización\"\n        >\n          <i className=\"ri-printer-line text-xl\"></i>\n        </button>\n      </div>\n    </div>\n  );\n};\n\nexport default CotizacionDetallada;\n","\nimport { useParams } from 'react-router-dom';\nimport CotizacionDetallada from './components/CotizacionDetallada';\n\nexport default function CotizacionDetalladaPage() {\n  const { id } = useParams<{ id: string }>();\n\n  return <CotizacionDetallada />;\n}\n"],"names":["CotizacionDetallada","id","useParams","navigate","useNavigate","cotizacion","setCotizacion","useState","loading","setLoading","error","setError","expandedItems","setExpandedItems","creatingPedido","setCreatingPedido","notification","setNotification","hideNotification","prev","useEffect","cargarCotizacionDetallada","toggleExpandItem","itemId","cotizacionId","cotizacionData","cotizacionError","supabase","clienteData","cliente","clienteError","itemsData","itemsError","itemsConProductos","item","producto","bomItems","productoData","bomData","formatearFecha","fecha","fechaObj","formatearMoneda","valor","valorNumerico","handleImprimir","printUrl","fallbackUrl","jsx","jsxs","numeroCotizacion","fechaCotizacion","subtotalValor","descuentoValor","impuestoCalculado","impuestoValor","nombreCliente","identificacionCliente","correoCliente","telefonoCliente","direccionCliente","NotificationPopup","React","comp","cantidadTotal","precioUnitario","totalComponente","CotizacionDetalladaPage"],"mappings":"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"}